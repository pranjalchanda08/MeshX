<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MeshX: esp_nvs.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MeshX<span id="projectnumber">&#160;0.3</span>
   </div>
   <div id="projectbrief">This repository provides an implementation for Bluetooth Low Energy (BLE) Mesh network nodes. The project allows you to create BLE mesh nodes that can communicate with each other, enabling the development of smart home solutions or other IoT-based applications.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dc/d28/esp__nvs_8c.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">esp_nvs.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation for Non-Volatile Storage (NVS) drivers Insterface APIs.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../da/d2d/meshx__nvs__interface_8h_source.html">interface/utils/meshx_nvs_interface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d7/dcb/meshx__log_8h_source.html">interface/logging/meshx_log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/da1/module__id_8h_source.html">module_id.h</a>&quot;</code><br />
<code>#include &quot;esp_err.h&quot;</code><br />
<code>#include &quot;nvs.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for esp_nvs.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d78/esp__nvs_8c__incl.png" border="0" usemap="#aesp__nvs_8c" alt=""/></div>
<map name="aesp__nvs_8c" id="aesp__nvs_8c">
<area shape="rect" title="Implementation for Non&#45;Volatile Storage (NVS) drivers Insterface APIs." alt="" coords="379,5,459,31"/>
<area shape="rect" href="../../da/d2d/meshx__nvs__interface_8h.html" title=" " alt="" coords="44,79,186,120"/>
<area shape="poly" title=" " alt="" coords="379,33,201,78,200,73,378,27"/>
<area shape="rect" href="../../d7/dcb/meshx__log_8h.html" title="Logging interface for MeshX with color&#45;coded output." alt="" coords="224,79,382,120"/>
<area shape="poly" title=" " alt="" coords="403,34,345,72,342,68,400,29"/>
<area shape="rect" href="../../d3/da1/module__id_8h.html" title="Defines module IDs for different elements in the BLE mesh node application." alt="" coords="496,168,587,193"/>
<area shape="poly" title=" " alt="" coords="422,31,427,72,434,96,446,118,470,141,497,158,494,163,466,145,442,121,430,98,422,73,416,32"/>
<area shape="rect" title=" " alt="" coords="456,86,531,112"/>
<area shape="poly" title=" " alt="" coords="432,30,474,73,470,77,428,33"/>
<area shape="rect" title=" " alt="" coords="555,86,608,112"/>
<area shape="poly" title=" " alt="" coords="445,29,544,77,545,77,542,82,542,81,443,34"/>
<area shape="rect" href="../../da/d68/meshx__err_8h.html" title="MeshX Error Codes." alt="" coords="113,168,205,193"/>
<area shape="poly" title=" " alt="" coords="128,119,147,153,142,155,123,121"/>
<area shape="rect" title=" " alt="" coords="41,241,104,267"/>
<area shape="poly" title=" " alt="" coords="65,122,35,142,12,169,9,185,14,201,26,216,42,230,38,234,23,220,10,204,3,185,7,166,31,138,62,118"/>
<area shape="rect" title=" " alt="" coords="21,168,89,193"/>
<area shape="poly" title=" " alt="" coords="102,122,75,157,71,153,98,118"/>
<area shape="poly" title=" " alt="" coords="146,196,100,233,97,229,143,192"/>
<area shape="poly" title=" " alt="" coords="268,123,196,162,193,157,266,118"/>
<area shape="rect" title=" " alt="" coords="229,168,289,193"/>
<area shape="poly" title=" " alt="" coords="294,121,275,155,271,153,290,119"/>
<area shape="rect" href="../../df/d01/meshx__config__internal_8h.html" title="Internal configuration settings for MeshX." alt="" coords="313,168,472,193"/>
<area shape="poly" title=" " alt="" coords="327,118,369,155,366,159,323,122"/>
<area shape="poly" title=" " alt="" coords="363,118,491,160,490,165,362,123"/>
<area shape="rect" title=" " alt="" coords="337,241,447,267"/>
<area shape="poly" title=" " alt="" coords="395,194,395,226,390,226,390,194"/>
</map>
</div>
</div>
<p><a href="../../dc/d28/esp__nvs_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0c55d54c5feb782f12273dfc2d6fe002" id="r_a0c55d54c5feb782f12273dfc2d6fe002"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0c55d54c5feb782f12273dfc2d6fe002">MESHX_NVS_NAMESPACE</a>&#160;&#160;&#160;&quot;MESHX_NVS&quot;</td></tr>
<tr class="separator:a0c55d54c5feb782f12273dfc2d6fe002"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a15b34ee0dff883205fa21a0594fc0c7c" id="r_a15b34ee0dff883205fa21a0594fc0c7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a15b34ee0dff883205fa21a0594fc0c7c">meshx_nvs_plat_open</a> (uintptr_t *p_nvs_handle)</td></tr>
<tr class="memdesc:a15b34ee0dff883205fa21a0594fc0c7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open non-volatile storage with a given namespace from the default partition.  <br /></td></tr>
<tr class="separator:a15b34ee0dff883205fa21a0594fc0c7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5a8b76fa8a5b7105ee6cac1edb47ec3" id="r_ad5a8b76fa8a5b7105ee6cac1edb47ec3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad5a8b76fa8a5b7105ee6cac1edb47ec3">meshx_nvs_plat_close</a> (uintptr_t p_nvs_handle)</td></tr>
<tr class="memdesc:ad5a8b76fa8a5b7105ee6cac1edb47ec3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the non-volatile storage handle.  <br /></td></tr>
<tr class="separator:ad5a8b76fa8a5b7105ee6cac1edb47ec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01998c5a615417f7fd4c8e3e6aa06a61" id="r_a01998c5a615417f7fd4c8e3e6aa06a61"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a01998c5a615417f7fd4c8e3e6aa06a61">meshx_nvs_plat_read</a> (uintptr_t p_nvs_handle, char const *key, uint8_t *p_data, uint16_t len)</td></tr>
<tr class="memdesc:a01998c5a615417f7fd4c8e3e6aa06a61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read blob value for given key from non-volatile storage.  <br /></td></tr>
<tr class="separator:a01998c5a615417f7fd4c8e3e6aa06a61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a486367a843345efbb5edb7267a706eb3" id="r_a486367a843345efbb5edb7267a706eb3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a486367a843345efbb5edb7267a706eb3">meshx_nvs_plat_write</a> (uintptr_t p_nvs_handle, char const *key, uint8_t const *p_data, uint16_t len)</td></tr>
<tr class="memdesc:a486367a843345efbb5edb7267a706eb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a blob value to the non-volatile storage with a given key and namespace.  <br /></td></tr>
<tr class="separator:a486367a843345efbb5edb7267a706eb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac07e3fa684f8bd4f45c595c237b98504" id="r_ac07e3fa684f8bd4f45c595c237b98504"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac07e3fa684f8bd4f45c595c237b98504">meshx_nvs_plat_erase</a> (uintptr_t p_nvs_handle)</td></tr>
<tr class="memdesc:ac07e3fa684f8bd4f45c595c237b98504"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase all key-value pairs in the given namespace.  <br /></td></tr>
<tr class="separator:ac07e3fa684f8bd4f45c595c237b98504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4731c0a5821db05dfc78f395caf73dd" id="r_ac4731c0a5821db05dfc78f395caf73dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac4731c0a5821db05dfc78f395caf73dd">meshx_nvs_plat_remove</a> (uintptr_t p_nvs_handle, char const *key)</td></tr>
<tr class="memdesc:ac4731c0a5821db05dfc78f395caf73dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a key-value pair from the non-volatile storage with a given key and namespace.  <br /></td></tr>
<tr class="separator:ac4731c0a5821db05dfc78f395caf73dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dd0ef1876320dd92b9c102574e08435" id="r_a5dd0ef1876320dd92b9c102574e08435"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5dd0ef1876320dd92b9c102574e08435">meshx_nvs_plat_commit</a> (uintptr_t p_nvs_handle)</td></tr>
<tr class="memdesc:a5dd0ef1876320dd92b9c102574e08435"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commit changes to the non-volatile storage.  <br /></td></tr>
<tr class="separator:a5dd0ef1876320dd92b9c102574e08435"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation for Non-Volatile Storage (NVS) drivers Insterface APIs. </p>
<p>Implementation for ESP Non-Volatile Storage (NVS) drivers operations.</p>
<p>Copyright © 2024 - 2025 MeshX</p>
<dl class="section author"><dt>Author</dt><dd>Pranjal Chanda</dd></dl>
<p>Copyright © 2024 - 2025 MeshX</p>
<p>This file provides APIs to manage the Non-Volatile Storage (NVS) used in the platform driver system. It includes functions to read, write, erase, and manage key-value pairs stored persistently.</p>
<dl class="section author"><dt>Author</dt><dd>Pranjal Chanda </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../dc/d28/esp__nvs_8c_source.html">esp_nvs.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a0c55d54c5feb782f12273dfc2d6fe002" name="a0c55d54c5feb782f12273dfc2d6fe002"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c55d54c5feb782f12273dfc2d6fe002">&#9670;&#160;</a></span>MESHX_NVS_NAMESPACE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MESHX_NVS_NAMESPACE&#160;&#160;&#160;&quot;MESHX_NVS&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d28/esp__nvs_8c_source.html#l00019">19</a> of file <a class="el" href="../../dc/d28/esp__nvs_8c_source.html">esp_nvs.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad5a8b76fa8a5b7105ee6cac1edb47ec3" name="ad5a8b76fa8a5b7105ee6cac1edb47ec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5a8b76fa8a5b7105ee6cac1edb47ec3">&#9670;&#160;</a></span>meshx_nvs_plat_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_nvs_plat_close </td>
          <td>(</td>
          <td class="paramtype">uintptr_t</td>          <td class="paramname"><span class="paramname"><em>p_nvs_handle</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the non-volatile storage handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_nvs_handle</td><td>Handle obtained with meshx_nvs_plat_open.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>MESHX_SUCCESS if the handle was closed successfully</li>
<li>MESHX_ERR_PLAT for any platform error </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d28/esp__nvs_8c_source.html#l00072">72</a> of file <a class="el" href="../../dc/d28/esp__nvs_8c_source.html">esp_nvs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   73</span>{</div>
<div class="line"><span class="lineno">   74</span> </div>
<div class="line"><span class="lineno">   75</span>    nvs_close((nvs_handle_t)p_nvs_handle);</div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">   78</span>}</div>
<div class="ttc" id="ameshx__err_8h_html_a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b"><div class="ttname"><a href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a></div><div class="ttdeci">@ MESHX_SUCCESS</div><div class="ttdef"><b>Definition</b> <a href="../../da/d68/meshx__err_8h_source.html#l00040">meshx_err.h:40</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d28/esp__nvs_8c_ad5a8b76fa8a5b7105ee6cac1edb47ec3_icgraph.png" border="0" usemap="#adc/d28/esp__nvs_8c_ad5a8b76fa8a5b7105ee6cac1edb47ec3_icgraph" alt=""/></div>
<map name="adc/d28/esp__nvs_8c_ad5a8b76fa8a5b7105ee6cac1edb47ec3_icgraph" id="adc/d28/esp__nvs_8c_ad5a8b76fa8a5b7105ee6cac1edb47ec3_icgraph">
<area shape="rect" title="Close the non&#45;volatile storage handle." alt="" coords="857,13,1010,38"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#a331ae59bfd5632726157f612d8b57b00" title="Close the NVS handle." alt="" coords="684,13,809,38"/>
<area shape="poly" title=" " alt="" coords="841,28,809,28,809,23,841,23"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#af877bf8456b6217ae4cd642f29e85be6" title="Callback handler for MeshX NVS unit test command." alt="" coords="491,5,636,46"/>
<area shape="poly" title=" " alt="" coords="668,28,636,28,636,23,668,23"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#a0fbc3ba9cfa339d3e1b30d101d424685" title="MeshX NVS Initialisation." alt="" coords="332,13,443,38"/>
<area shape="poly" title=" " alt="" coords="476,28,444,28,444,23,476,23"/>
<area shape="rect" href="../../d9/d05/meshx_8c.html#ad4e8f334efad60b97f2d5335210b3a19" title="MeshX initialisation function." alt="" coords="201,13,284,38"/>
<area shape="poly" title=" " alt="" coords="316,28,284,28,284,23,316,23"/>
<area shape="rect" href="../../d0/d29/main_8c.html#a3583f130e87200c7139a48b18f72c8b0" title="Main application entry point." alt="" coords="5,13,153,38"/>
<area shape="poly" title=" " alt="" coords="185,28,153,28,153,23,185,23"/>
</map>
</div>

</div>
</div>
<a id="a5dd0ef1876320dd92b9c102574e08435" name="a5dd0ef1876320dd92b9c102574e08435"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dd0ef1876320dd92b9c102574e08435">&#9670;&#160;</a></span>meshx_nvs_plat_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_nvs_plat_commit </td>
          <td>(</td>
          <td class="paramtype">uintptr_t</td>          <td class="paramname"><span class="paramname"><em>p_nvs_handle</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Commit changes to the non-volatile storage. </p>
<dl class="section note"><dt>Note</dt><dd>This function is a prototype and can be returned with MESHX_SUCCESS if no such platform function exists</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_nvs_handle</td><td>Pointer to the opened handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>MESHX_SUCCESS if the changes were committed successfully</li>
<li>MESHX_ERR_PLAT for any platform error </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d28/esp__nvs_8c_source.html#l00208">208</a> of file <a class="el" href="../../dc/d28/esp__nvs_8c_source.html">esp_nvs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  209</span>{</div>
<div class="line"><span class="lineno">  210</span>    esp_err_t err = ESP_OK;</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>    err = nvs_commit((nvs_handle_t)p_nvs_handle);</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>    <span class="keywordflow">if</span> (err != ESP_OK)</div>
<div class="line"><span class="lineno">  215</span>    {</div>
<div class="line"><span class="lineno">  216</span>        <a class="code hl_define" href="../../d7/dcb/meshx__log_8h.html#a56673888067cbe14c7a33b0856f46eb8">MESHX_LOGE</a>(<a class="code hl_enumvalue" href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedca294f5c4e583ed87401713ad84945e322">MODULE_ID_COMMON</a>, <span class="stringliteral">&quot;nvs_commit failed&quot;</span>);</div>
<div class="line"><span class="lineno">  217</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a6c085ef760a07c6f5b9422e1590fde8d">MESHX_ERR_PLAT</a>;</div>
<div class="line"><span class="lineno">  218</span>    }</div>
<div class="line"><span class="lineno">  219</span> </div>
<div class="line"><span class="lineno">  220</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  221</span>}</div>
<div class="ttc" id="ameshx__err_8h_html_a6f984f69fa8d0240992b3a1e78bd42f6a6c085ef760a07c6f5b9422e1590fde8d"><div class="ttname"><a href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a6c085ef760a07c6f5b9422e1590fde8d">MESHX_ERR_PLAT</a></div><div class="ttdeci">@ MESHX_ERR_PLAT</div><div class="ttdef"><b>Definition</b> <a href="../../da/d68/meshx__err_8h_source.html#l00043">meshx_err.h:43</a></div></div>
<div class="ttc" id="ameshx__log_8h_html_a56673888067cbe14c7a33b0856f46eb8"><div class="ttname"><a href="../../d7/dcb/meshx__log_8h.html#a56673888067cbe14c7a33b0856f46eb8">MESHX_LOGE</a></div><div class="ttdeci">#define MESHX_LOGE(module_id, format,...)</div><div class="ttdef"><b>Definition</b> <a href="../../d7/dcb/meshx__log_8h_source.html#l00073">meshx_log.h:73</a></div></div>
<div class="ttc" id="amodule__id_8h_html_ac6141ce7b2d1d07b28553017c6a3aedca294f5c4e583ed87401713ad84945e322"><div class="ttname"><a href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedca294f5c4e583ed87401713ad84945e322">MODULE_ID_COMMON</a></div><div class="ttdeci">@ MODULE_ID_COMMON</div><div class="ttdef"><b>Definition</b> <a href="../../d3/da1/module__id_8h_source.html#l00032">module_id.h:32</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d28/esp__nvs_8c_a5dd0ef1876320dd92b9c102574e08435_icgraph.png" border="0" usemap="#adc/d28/esp__nvs_8c_a5dd0ef1876320dd92b9c102574e08435_icgraph" alt=""/></div>
<map name="adc/d28/esp__nvs_8c_a5dd0ef1876320dd92b9c102574e08435_icgraph" id="adc/d28/esp__nvs_8c_a5dd0ef1876320dd92b9c102574e08435_icgraph">
<area shape="rect" title="Commit changes to the non&#45;volatile storage." alt="" coords="869,13,1034,38"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#adbf5f3a6e63cae605581b0f23b21345c" title="Commit changes to the NVS." alt="" coords="684,13,821,38"/>
<area shape="poly" title=" " alt="" coords="853,28,821,28,821,23,853,23"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#af877bf8456b6217ae4cd642f29e85be6" title="Callback handler for MeshX NVS unit test command." alt="" coords="491,5,636,46"/>
<area shape="poly" title=" " alt="" coords="668,28,636,28,636,23,668,23"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#a0fbc3ba9cfa339d3e1b30d101d424685" title="MeshX NVS Initialisation." alt="" coords="332,13,443,38"/>
<area shape="poly" title=" " alt="" coords="476,28,444,28,444,23,476,23"/>
<area shape="rect" href="../../d9/d05/meshx_8c.html#ad4e8f334efad60b97f2d5335210b3a19" title="MeshX initialisation function." alt="" coords="201,13,284,38"/>
<area shape="poly" title=" " alt="" coords="316,28,284,28,284,23,316,23"/>
<area shape="rect" href="../../d0/d29/main_8c.html#a3583f130e87200c7139a48b18f72c8b0" title="Main application entry point." alt="" coords="5,13,153,38"/>
<area shape="poly" title=" " alt="" coords="185,28,153,28,153,23,185,23"/>
</map>
</div>

</div>
</div>
<a id="ac07e3fa684f8bd4f45c595c237b98504" name="ac07e3fa684f8bd4f45c595c237b98504"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac07e3fa684f8bd4f45c595c237b98504">&#9670;&#160;</a></span>meshx_nvs_plat_erase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_nvs_plat_erase </td>
          <td>(</td>
          <td class="paramtype">uintptr_t</td>          <td class="paramname"><span class="paramname"><em>p_nvs_handle</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase all key-value pairs in the given namespace. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_nvs_handle</td><td>Pointer to the opened handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>MESHX_SUCCESS if all key-value pairs were erased successfully</li>
<li>MESHX_ERR_PLAT for any platform error </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d28/esp__nvs_8c_source.html#l00156">156</a> of file <a class="el" href="../../dc/d28/esp__nvs_8c_source.html">esp_nvs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  157</span>{</div>
<div class="line"><span class="lineno">  158</span>    esp_err_t err = ESP_OK;</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>    err = nvs_erase_all((nvs_handle_t)p_nvs_handle);</div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span>    <span class="keywordflow">if</span> (err != ESP_OK)</div>
<div class="line"><span class="lineno">  163</span>    {</div>
<div class="line"><span class="lineno">  164</span>        <a class="code hl_define" href="../../d7/dcb/meshx__log_8h.html#a56673888067cbe14c7a33b0856f46eb8">MESHX_LOGE</a>(<a class="code hl_enumvalue" href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedca294f5c4e583ed87401713ad84945e322">MODULE_ID_COMMON</a>, <span class="stringliteral">&quot;nvs_erase_all failed&quot;</span>);</div>
<div class="line"><span class="lineno">  165</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a6c085ef760a07c6f5b9422e1590fde8d">MESHX_ERR_PLAT</a>;</div>
<div class="line"><span class="lineno">  166</span>    }</div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  169</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d28/esp__nvs_8c_ac07e3fa684f8bd4f45c595c237b98504_icgraph.png" border="0" usemap="#adc/d28/esp__nvs_8c_ac07e3fa684f8bd4f45c595c237b98504_icgraph" alt=""/></div>
<map name="adc/d28/esp__nvs_8c_ac07e3fa684f8bd4f45c595c237b98504_icgraph" id="adc/d28/esp__nvs_8c_ac07e3fa684f8bd4f45c595c237b98504_icgraph">
<area shape="rect" title="Erase all key&#45;value pairs in the given namespace." alt="" coords="1294,37,1448,63"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#adedf15ddc47ab70982fa07092112ffd1" title="Erase all key&#45;value pairs stored in the NVS." alt="" coords="1119,37,1246,63"/>
<area shape="poly" title=" " alt="" coords="1278,53,1246,53,1246,48,1278,48"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#ae32d182aaba6ab32994ae22debaa1d6f" title="Erase the NVS and set the product ID." alt="" coords="889,12,1071,38"/>
<area shape="poly" title=" " alt="" coords="1104,43,1071,39,1072,34,1104,38"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#af877bf8456b6217ae4cd642f29e85be6" title="Callback handler for MeshX NVS unit test command." alt="" coords="526,55,671,96"/>
<area shape="poly" title=" " alt="" coords="1104,56,671,75,671,70,1104,51"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#ab4e5c250438e810358991fbe0e6cd277" title="Open the NVS with a timeout." alt="" coords="719,12,841,38"/>
<area shape="poly" title=" " alt="" coords="874,28,841,28,841,22,874,22"/>
<area shape="rect" href="../../d9/d05/meshx_8c.html#acbc9147d880e04feca27a7fa57a45945" title="Restore the device state from the NVS." alt="" coords="531,5,666,31"/>
<area shape="poly" title=" " alt="" coords="703,25,666,23,666,18,703,19"/>
<area shape="poly" title=" " alt="" coords="718,45,672,58,670,53,716,40"/>
<area shape="rect" href="../../d9/d05/meshx_8c.html#ae488bc4a1d8eb698d2e2e60ec90bbad1" title="Initializes the BLE Mesh subsystem." alt="" coords="332,8,478,34"/>
<area shape="poly" title=" " alt="" coords="516,22,478,22,478,17,516,17"/>
<area shape="rect" href="../../d9/d05/meshx_8c.html#ad4e8f334efad60b97f2d5335210b3a19" title="MeshX initialisation function." alt="" coords="201,35,284,60"/>
<area shape="poly" title=" " alt="" coords="317,38,285,43,284,38,316,33"/>
<area shape="rect" href="../../d0/d29/main_8c.html#a3583f130e87200c7139a48b18f72c8b0" title="Main application entry point." alt="" coords="5,35,153,60"/>
<area shape="poly" title=" " alt="" coords="185,50,153,50,153,45,185,45"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#a0fbc3ba9cfa339d3e1b30d101d424685" title="MeshX NVS Initialisation." alt="" coords="350,59,461,84"/>
<area shape="poly" title=" " alt="" coords="511,76,461,75,462,70,511,71"/>
<area shape="poly" title=" " alt="" coords="334,64,284,56,285,51,335,58"/>
</map>
</div>

</div>
</div>
<a id="a15b34ee0dff883205fa21a0594fc0c7c" name="a15b34ee0dff883205fa21a0594fc0c7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15b34ee0dff883205fa21a0594fc0c7c">&#9670;&#160;</a></span>meshx_nvs_plat_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_nvs_plat_open </td>
          <td>(</td>
          <td class="paramtype">uintptr_t *</td>          <td class="paramname"><span class="paramname"><em>p_nvs_handle</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open non-volatile storage with a given namespace from the default partition. </p>
<p>If CONFIG_BLE_MESH_SPECIFIC_PARTITION is not defined, this function will open the namespace from the default partition. Otherwise, it will open the namespace from the MESHX_NVS_PARTITION.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">p_nvs_handle</td><td>Pointer to the output variable populated with the opened handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>MESHX_SUCCESS if the storage handle was opened successfully</li>
<li>MESHX_ERR_PLAT if p_nvs_handle is NULL </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d28/esp__nvs_8c_source.html#l00034">34</a> of file <a class="el" href="../../dc/d28/esp__nvs_8c_source.html">esp_nvs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   35</span>{</div>
<div class="line"><span class="lineno">   36</span>    <span class="keywordflow">if</span> (p_nvs_handle == NULL)</div>
<div class="line"><span class="lineno">   37</span>    {</div>
<div class="line"><span class="lineno">   38</span>        <a class="code hl_define" href="../../d7/dcb/meshx__log_8h.html#a56673888067cbe14c7a33b0856f46eb8">MESHX_LOGE</a>(<a class="code hl_enumvalue" href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedca294f5c4e583ed87401713ad84945e322">MODULE_ID_COMMON</a>, <span class="stringliteral">&quot;Invalid argument&quot;</span>);</div>
<div class="line"><span class="lineno">   39</span>    }</div>
<div class="line"><span class="lineno">   40</span> </div>
<div class="line"><span class="lineno">   41</span>    esp_err_t err = ESP_OK;</div>
<div class="line"><span class="lineno">   42</span><span class="preprocessor">#ifndef CONFIG_BLE_MESH_SPECIFIC_PARTITION</span></div>
<div class="line"><span class="lineno">   43</span>    err = nvs_open(</div>
<div class="line"><span class="lineno">   44</span>        <a class="code hl_define" href="#a0c55d54c5feb782f12273dfc2d6fe002">MESHX_NVS_NAMESPACE</a>,</div>
<div class="line"><span class="lineno">   45</span>        NVS_READWRITE,</div>
<div class="line"><span class="lineno">   46</span>        (nvs_handle_t*)p_nvs_handle);</div>
<div class="line"><span class="lineno">   47</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">   48</span>    err = nvs_open_from_partition(</div>
<div class="line"><span class="lineno">   49</span>        MESHX_NVS_PARTITION,</div>
<div class="line"><span class="lineno">   50</span>        <a class="code hl_define" href="#a0c55d54c5feb782f12273dfc2d6fe002">MESHX_NVS_NAMESPACE</a>,</div>
<div class="line"><span class="lineno">   51</span>        NVS_READWRITE,</div>
<div class="line"><span class="lineno">   52</span>        (nvs_handle_t*)p_nvs_handle);</div>
<div class="line"><span class="lineno">   53</span><span class="preprocessor">#endif </span><span class="comment">/* CONFIG_BLE_MESH_SPECIFIC_PARTITION */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">   54</span> </div>
<div class="line"><span class="lineno">   55</span>    <span class="keywordflow">if</span> (err != ESP_OK)</div>
<div class="line"><span class="lineno">   56</span>    {</div>
<div class="line"><span class="lineno">   57</span>        <a class="code hl_define" href="../../d7/dcb/meshx__log_8h.html#a56673888067cbe14c7a33b0856f46eb8">MESHX_LOGE</a>(<a class="code hl_enumvalue" href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedca294f5c4e583ed87401713ad84945e322">MODULE_ID_COMMON</a>, <span class="stringliteral">&quot;Failed to open NVS handle: %d&quot;</span>, err);</div>
<div class="line"><span class="lineno">   58</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a6c085ef760a07c6f5b9422e1590fde8d">MESHX_ERR_PLAT</a>;</div>
<div class="line"><span class="lineno">   59</span>    }</div>
<div class="line"><span class="lineno">   60</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">   61</span>}</div>
<div class="ttc" id="aesp__nvs_8c_html_a0c55d54c5feb782f12273dfc2d6fe002"><div class="ttname"><a href="#a0c55d54c5feb782f12273dfc2d6fe002">MESHX_NVS_NAMESPACE</a></div><div class="ttdeci">#define MESHX_NVS_NAMESPACE</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d28/esp__nvs_8c_source.html#l00019">esp_nvs.c:19</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d28/esp__nvs_8c_a15b34ee0dff883205fa21a0594fc0c7c_icgraph.png" border="0" usemap="#adc/d28/esp__nvs_8c_a15b34ee0dff883205fa21a0594fc0c7c_icgraph" alt=""/></div>
<map name="adc/d28/esp__nvs_8c_a15b34ee0dff883205fa21a0594fc0c7c_icgraph" id="adc/d28/esp__nvs_8c_a15b34ee0dff883205fa21a0594fc0c7c_icgraph">
<area shape="rect" title="Open non&#45;volatile storage with a given namespace from the default partition." alt="" coords="889,35,1039,60"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#ab4e5c250438e810358991fbe0e6cd277" title="Open the NVS with a timeout." alt="" coords="719,35,841,60"/>
<area shape="poly" title=" " alt="" coords="873,50,841,50,841,45,873,45"/>
<area shape="rect" href="../../d9/d05/meshx_8c.html#acbc9147d880e04feca27a7fa57a45945" title="Restore the device state from the NVS." alt="" coords="531,5,666,31"/>
<area shape="poly" title=" " alt="" coords="703,38,665,32,666,26,704,32"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#af877bf8456b6217ae4cd642f29e85be6" title="Callback handler for MeshX NVS unit test command." alt="" coords="526,55,671,96"/>
<area shape="poly" title=" " alt="" coords="704,62,671,67,670,62,703,57"/>
<area shape="rect" href="../../d9/d05/meshx_8c.html#ae488bc4a1d8eb698d2e2e60ec90bbad1" title="Initializes the BLE Mesh subsystem." alt="" coords="332,8,478,34"/>
<area shape="poly" title=" " alt="" coords="516,22,478,22,478,17,516,17"/>
<area shape="rect" href="../../d9/d05/meshx_8c.html#ad4e8f334efad60b97f2d5335210b3a19" title="MeshX initialisation function." alt="" coords="201,35,284,60"/>
<area shape="poly" title=" " alt="" coords="317,38,285,43,284,38,316,33"/>
<area shape="rect" href="../../d0/d29/main_8c.html#a3583f130e87200c7139a48b18f72c8b0" title="Main application entry point." alt="" coords="5,35,153,60"/>
<area shape="poly" title=" " alt="" coords="185,50,153,50,153,45,185,45"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#a0fbc3ba9cfa339d3e1b30d101d424685" title="MeshX NVS Initialisation." alt="" coords="350,59,461,84"/>
<area shape="poly" title=" " alt="" coords="511,76,461,75,462,70,511,71"/>
<area shape="poly" title=" " alt="" coords="334,64,284,56,285,51,335,58"/>
</map>
</div>

</div>
</div>
<a id="a01998c5a615417f7fd4c8e3e6aa06a61" name="a01998c5a615417f7fd4c8e3e6aa06a61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01998c5a615417f7fd4c8e3e6aa06a61">&#9670;&#160;</a></span>meshx_nvs_plat_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_nvs_plat_read </td>
          <td>(</td>
          <td class="paramtype">uintptr_t</td>          <td class="paramname"><span class="paramname"><em>p_nvs_handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>p_data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read blob value for given key from non-volatile storage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_nvs_handle</td><td>Handle obtained with meshx_nvs_plat_open. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Key name. Maximum length is (NVS_KEY_NAME_MAX_SIZE-1) characters. Shouldn't be empty. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">p_data</td><td>Pointer to the output variable populated with the read blob value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Length of the read blob value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>MESHX_SUCCESS if the blob value was read successfully</li>
<li>MESHX_ERR_PLAT if there is an internal error; </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d28/esp__nvs_8c_source.html#l00092">92</a> of file <a class="el" href="../../dc/d28/esp__nvs_8c_source.html">esp_nvs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   93</span>{</div>
<div class="line"><span class="lineno">   94</span>    esp_err_t err = ESP_OK;</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>    <span class="keywordflow">if</span> (key == NULL || p_data == NULL || len == 0)</div>
<div class="line"><span class="lineno">   97</span>    {</div>
<div class="line"><span class="lineno">   98</span>        <a class="code hl_define" href="../../d7/dcb/meshx__log_8h.html#a56673888067cbe14c7a33b0856f46eb8">MESHX_LOGE</a>(<a class="code hl_enumvalue" href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedca294f5c4e583ed87401713ad84945e322">MODULE_ID_COMMON</a>, <span class="stringliteral">&quot;Invalid argument&quot;</span>);</div>
<div class="line"><span class="lineno">   99</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e">MESHX_INVALID_ARG</a>;</div>
<div class="line"><span class="lineno">  100</span>    }</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>    <span class="keywordtype">size_t</span> read_len = len;</div>
<div class="line"><span class="lineno">  103</span>    err = nvs_get_blob((nvs_handle_t)p_nvs_handle, key, p_data, &amp;read_len);</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>    <span class="keywordflow">if</span> (err != ESP_OK)</div>
<div class="line"><span class="lineno">  106</span>    {</div>
<div class="line"><span class="lineno">  107</span>        <a class="code hl_define" href="../../d7/dcb/meshx__log_8h.html#a56673888067cbe14c7a33b0856f46eb8">MESHX_LOGE</a>(<a class="code hl_enumvalue" href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedca294f5c4e583ed87401713ad84945e322">MODULE_ID_COMMON</a>, <span class="stringliteral">&quot;nvs_get_blob failed&quot;</span>);</div>
<div class="line"><span class="lineno">  108</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a6c085ef760a07c6f5b9422e1590fde8d">MESHX_ERR_PLAT</a>;</div>
<div class="line"><span class="lineno">  109</span>    }</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  112</span>}</div>
<div class="ttc" id="ameshx__err_8h_html_a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e"><div class="ttname"><a href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e">MESHX_INVALID_ARG</a></div><div class="ttdeci">@ MESHX_INVALID_ARG</div><div class="ttdef"><b>Definition</b> <a href="../../da/d68/meshx__err_8h_source.html#l00042">meshx_err.h:42</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d28/esp__nvs_8c_a01998c5a615417f7fd4c8e3e6aa06a61_icgraph.png" border="0" usemap="#adc/d28/esp__nvs_8c_a01998c5a615417f7fd4c8e3e6aa06a61_icgraph" alt=""/></div>
<map name="adc/d28/esp__nvs_8c_a01998c5a615417f7fd4c8e3e6aa06a61_icgraph" id="adc/d28/esp__nvs_8c_a01998c5a615417f7fd4c8e3e6aa06a61_icgraph">
<area shape="rect" title="Read blob value for given key from non&#45;volatile storage." alt="" coords="1302,248,1450,273"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#ae36588f5b4ae5e5ac771e1af86a71e5a" title="Get a value from the NVS." alt="" coords="1142,248,1254,273"/>
<area shape="poly" title=" " alt="" coords="1287,263,1255,263,1255,258,1287,258"/>
<area shape="rect" href="../../d9/d05/meshx_8c.html#acbc9147d880e04feca27a7fa57a45945" title="Restore the device state from the NVS." alt="" coords="710,266,845,292"/>
<area shape="poly" title=" " alt="" coords="1127,260,1022,259,905,263,846,270,845,265,904,258,1022,253,1127,255"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#a3773373d74bd4e2c0415a89f7652ebe8" title="Retrieve the context of a specific element from NVS." alt="" coords="905,144,1094,169"/>
<area shape="poly" title=" " alt="" coords="1157,242,1025,172,1027,167,1159,237"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#ab4e5c250438e810358991fbe0e6cd277" title="Open the NVS with a timeout." alt="" coords="938,273,1060,298"/>
<area shape="poly" title=" " alt="" coords="1127,272,1061,281,1061,275,1126,267"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#af877bf8456b6217ae4cd642f29e85be6" title="Callback handler for MeshX NVS unit test command." alt="" coords="705,316,850,357"/>
<area shape="poly" title=" " alt="" coords="1164,284,1131,300,1095,314,1031,327,966,336,850,341,850,336,966,330,1030,322,1093,308,1129,295,1161,279"/>
<area shape="rect" href="../../d9/d05/meshx_8c.html#ae488bc4a1d8eb698d2e2e60ec90bbad1" title="Initializes the BLE Mesh subsystem." alt="" coords="474,270,620,296"/>
<area shape="poly" title=" " alt="" coords="695,283,621,284,621,279,695,278"/>
<area shape="rect" href="../../d9/d05/meshx_8c.html#ad4e8f334efad60b97f2d5335210b3a19" title="MeshX initialisation function." alt="" coords="257,294,340,320"/>
<area shape="poly" title=" " alt="" coords="459,294,341,306,340,300,459,289"/>
<area shape="rect" href="../../d0/d29/main_8c.html#a3583f130e87200c7139a48b18f72c8b0" title="Main application entry point." alt="" coords="5,294,153,320"/>
<area shape="poly" title=" " alt="" coords="241,310,153,310,153,304,241,304"/>
<area shape="rect" href="../../d0/d53/meshx__light__cwww__client_8c.html#aeeed3c047c66ef0ea3eecfa65f5d9fe1" title="This function adds the CW&#45;WW client models to the element list of the specified device...." alt="" coords="698,71,857,111"/>
<area shape="poly" title=" " alt="" coords="938,141,848,115,850,109,939,136"/>
<area shape="rect" href="../../d9/d46/meshx__cwww__server_8c.html#ade969ecdaaeafbdb83b4f4ecabcef37c" title="Add CW&#45;WW server models to the element list." alt="" coords="698,136,857,177"/>
<area shape="poly" title=" " alt="" coords="889,159,857,159,857,154,889,154"/>
<area shape="rect" href="../../da/df4/meshx__relay__client_8c.html#a1f96616eb21ac54b4d5b5652b0e48d93" title="Add relay client models to the element list." alt="" coords="698,201,857,242"/>
<area shape="poly" title=" " alt="" coords="939,177,850,203,848,198,938,172"/>
<area shape="rect" href="../../d1/df4/meshx__relay__server_8c.html#a90b505526740de4bd9d8c07d1f46c546" title="Add relay server models to the element list." alt="" coords="698,5,857,46"/>
<area shape="poly" title=" " alt="" coords="967,136,916,99,855,61,830,49,833,44,858,57,919,95,970,132"/>
<area shape="rect" href="../../d0/d53/meshx__light__cwww__client_8c.html#a2b18c9b388becb88fae3b11dc91227ad" title="Create Dynamic CW&#45;WW Model Elements." alt="" coords="478,71,617,111"/>
<area shape="poly" title=" " alt="" coords="683,94,617,94,617,88,683,88"/>
<area shape="rect" href="../../d0/d53/meshx__light__cwww__client_8c.html#a3c149e2a2474324a7ecac6168d1f9a9f" title=" " alt="" coords="201,78,396,104"/>
<area shape="poly" title=" " alt="" coords="462,94,396,94,396,88,462,88"/>
<area shape="rect" href="../../d9/d46/meshx__cwww__server_8c.html#ac1498e20904edfabe76c92f9da6375bd" title="Create Dynamic CWWW Server Model Elements." alt="" coords="444,144,650,169"/>
<area shape="poly" title=" " alt="" coords="683,159,651,159,651,154,683,154"/>
<area shape="rect" href="../../d9/d46/meshx__cwww__server_8c.html#aa8082758a025ec4f2663cc48f873b7d9" title=" " alt="" coords="201,144,396,169"/>
<area shape="poly" title=" " alt="" coords="428,159,396,159,396,154,428,154"/>
<area shape="rect" href="../../da/df4/meshx__relay__client_8c.html#a78912dcce7e42851d05867d83e61ce9d" title="Create Dynamic Relay Model Elements." alt="" coords="482,201,612,242"/>
<area shape="poly" title=" " alt="" coords="683,224,612,224,612,219,683,219"/>
<area shape="rect" href="../../da/df4/meshx__relay__client_8c.html#a6714b32ec5f1113fae863457f0cfe653" title=" " alt="" coords="201,209,396,234"/>
<area shape="poly" title=" " alt="" coords="467,224,396,224,396,219,467,219"/>
<area shape="rect" href="../../d1/df4/meshx__relay__server_8c.html#af1332e2c64515cfa728a8b529abdc00b" title="Create Dynamic Relay Model Elements." alt="" coords="479,5,615,46"/>
<area shape="poly" title=" " alt="" coords="683,28,616,28,616,23,683,23"/>
<area shape="rect" href="../../d1/df4/meshx__relay__server_8c.html#a4f078550e7f2f704da32b4d524bc266d" title=" " alt="" coords="201,13,396,38"/>
<area shape="poly" title=" " alt="" coords="463,28,396,28,396,23,463,23"/>
<area shape="poly" title=" " alt="" coords="922,286,845,284,845,278,922,281"/>
<area shape="poly" title=" " alt="" coords="926,305,851,322,850,317,925,300"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#a0fbc3ba9cfa339d3e1b30d101d424685" title="MeshX NVS Initialisation." alt="" coords="492,321,603,346"/>
<area shape="poly" title=" " alt="" coords="689,338,603,337,603,332,689,333"/>
<area shape="poly" title=" " alt="" coords="476,329,340,314,341,309,476,323"/>
</map>
</div>

</div>
</div>
<a id="ac4731c0a5821db05dfc78f395caf73dd" name="ac4731c0a5821db05dfc78f395caf73dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4731c0a5821db05dfc78f395caf73dd">&#9670;&#160;</a></span>meshx_nvs_plat_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_nvs_plat_remove </td>
          <td>(</td>
          <td class="paramtype">uintptr_t</td>          <td class="paramname"><span class="paramname"><em>p_nvs_handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *</td>          <td class="paramname"><span class="paramname"><em>key</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a key-value pair from the non-volatile storage with a given key and namespace. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_nvs_handle</td><td>Pointer to the opened handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Key name. Maximum length is (NVS_KEY_NAME_MAX_SIZE-1) characters. Shouldn't be empty.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>MESHX_SUCCESS if the key-value pair was removed successfully</li>
<li>MESHX_ERR_PLAT for any platform error </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d28/esp__nvs_8c_source.html#l00181">181</a> of file <a class="el" href="../../dc/d28/esp__nvs_8c_source.html">esp_nvs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  182</span>{</div>
<div class="line"><span class="lineno">  183</span>    esp_err_t err = ESP_OK;</div>
<div class="line"><span class="lineno">  184</span> </div>
<div class="line"><span class="lineno">  185</span>    err = nvs_erase_key((nvs_handle_t)p_nvs_handle, key);</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>    <span class="keywordflow">if</span> (err != ESP_OK)</div>
<div class="line"><span class="lineno">  188</span>    {</div>
<div class="line"><span class="lineno">  189</span>        <a class="code hl_define" href="../../d7/dcb/meshx__log_8h.html#a56673888067cbe14c7a33b0856f46eb8">MESHX_LOGE</a>(<a class="code hl_enumvalue" href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedca294f5c4e583ed87401713ad84945e322">MODULE_ID_COMMON</a>, <span class="stringliteral">&quot;nvs_erase_key failed&quot;</span>);</div>
<div class="line"><span class="lineno">  190</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a6c085ef760a07c6f5b9422e1590fde8d">MESHX_ERR_PLAT</a>;</div>
<div class="line"><span class="lineno">  191</span>    }</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  194</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d28/esp__nvs_8c_ac4731c0a5821db05dfc78f395caf73dd_icgraph.png" border="0" usemap="#adc/d28/esp__nvs_8c_ac4731c0a5821db05dfc78f395caf73dd_icgraph" alt=""/></div>
<map name="adc/d28/esp__nvs_8c_ac4731c0a5821db05dfc78f395caf73dd_icgraph" id="adc/d28/esp__nvs_8c_ac4731c0a5821db05dfc78f395caf73dd_icgraph">
<area shape="rect" title="Remove a key&#45;value pair from the non&#45;volatile storage with a given key and namespace." alt="" coords="1705,46,1871,72"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#aa14948d7d45d83f3b6d9ca765a17cc58" title="Remove a key&#45;value pair from the NVS." alt="" coords="1520,46,1657,72"/>
<area shape="poly" title=" " alt="" coords="1690,62,1657,62,1657,56,1690,56"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#a6dc2339887b4d2cb0faa01d799838cd1" title="Remove the context of a specific element from NVS." alt="" coords="1308,5,1472,46"/>
<area shape="poly" title=" " alt="" coords="1504,48,1472,42,1473,37,1505,42"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#af877bf8456b6217ae4cd642f29e85be6" title="Callback handler for MeshX NVS unit test command." alt="" coords="1318,71,1462,111"/>
<area shape="poly" title=" " alt="" coords="1505,75,1463,82,1462,77,1504,70"/>
<area shape="rect" href="../../d2/d21/meshx__prov__srv_8c.html#a90d4cf320c64e69007ffa9ccbb224100" title="Handle node reset event." alt="" coords="1084,14,1260,40"/>
<area shape="poly" title=" " alt="" coords="1292,29,1260,29,1260,24,1292,24"/>
<area shape="rect" href="../../d2/d21/meshx__prov__srv_8c.html#aac026cf4837ec52fd5cb35967ce4ad3f" title="Handles provisioning control task events." alt="" coords="899,7,1036,47"/>
<area shape="poly" title=" " alt="" coords="1069,30,1037,30,1037,24,1069,24"/>
<area shape="rect" href="../../d2/d21/meshx__prov__srv_8c.html#acb04eaca0a71bc777d56e2d49162ad58" title="Register the BLE Mesh provisioning callback for MeshX Layer Internal." alt="" coords="690,7,851,47"/>
<area shape="poly" title=" " alt="" coords="883,30,851,30,851,24,883,24"/>
<area shape="rect" href="../../d2/d21/meshx__prov__srv_8c.html#a69e4bb9282a6aad8faa9ee42c968541b" title="Initialize provisioning parameters." alt="" coords="526,17,642,42"/>
<area shape="poly" title=" " alt="" coords="675,31,642,32,642,26,674,26"/>
<area shape="rect" href="../../d9/d05/meshx_8c.html#ae488bc4a1d8eb698d2e2e60ec90bbad1" title="Initializes the BLE Mesh subsystem." alt="" coords="332,18,478,44"/>
<area shape="poly" title=" " alt="" coords="511,33,479,33,479,28,511,28"/>
<area shape="rect" href="../../d9/d05/meshx_8c.html#ad4e8f334efad60b97f2d5335210b3a19" title="MeshX initialisation function." alt="" coords="201,46,284,72"/>
<area shape="poly" title=" " alt="" coords="317,49,285,55,284,49,316,44"/>
<area shape="rect" href="../../d0/d29/main_8c.html#a3583f130e87200c7139a48b18f72c8b0" title="Main application entry point." alt="" coords="5,46,153,72"/>
<area shape="poly" title=" " alt="" coords="185,62,153,62,153,56,185,56"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#a0fbc3ba9cfa339d3e1b30d101d424685" title="MeshX NVS Initialisation." alt="" coords="912,73,1023,98"/>
<area shape="poly" title=" " alt="" coords="1302,93,1024,89,1024,84,1302,87"/>
<area shape="poly" title=" " alt="" coords="896,86,284,63,285,58,896,80"/>
</map>
</div>

</div>
</div>
<a id="a486367a843345efbb5edb7267a706eb3" name="a486367a843345efbb5edb7267a706eb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a486367a843345efbb5edb7267a706eb3">&#9670;&#160;</a></span>meshx_nvs_plat_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_nvs_plat_write </td>
          <td>(</td>
          <td class="paramtype">uintptr_t</td>          <td class="paramname"><span class="paramname"><em>p_nvs_handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t const *</td>          <td class="paramname"><span class="paramname"><em>p_data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a blob value to the non-volatile storage with a given key and namespace. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_nvs_handle</td><td>Pointer to the opened handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Key name. Maximum length is (NVS_KEY_NAME_MAX_SIZE-1) characters. Shouldn't be empty. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_data</td><td>Pointer to the data to write. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Number of bytes to write.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>MESHX_SUCCESS if the value was written successfully</li>
<li>MESHX_ERR_PLAT for any platform error </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d28/esp__nvs_8c_source.html#l00126">126</a> of file <a class="el" href="../../dc/d28/esp__nvs_8c_source.html">esp_nvs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  127</span>{</div>
<div class="line"><span class="lineno">  128</span>    <span class="keywordflow">if</span> (key == NULL || p_data == NULL || len == 0)</div>
<div class="line"><span class="lineno">  129</span>    {</div>
<div class="line"><span class="lineno">  130</span>        <a class="code hl_define" href="../../d7/dcb/meshx__log_8h.html#a56673888067cbe14c7a33b0856f46eb8">MESHX_LOGE</a>(<a class="code hl_enumvalue" href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedca294f5c4e583ed87401713ad84945e322">MODULE_ID_COMMON</a>, <span class="stringliteral">&quot;Invalid argument&quot;</span>);</div>
<div class="line"><span class="lineno">  131</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e">MESHX_INVALID_ARG</a>;</div>
<div class="line"><span class="lineno">  132</span>    }</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>    esp_err_t err = ESP_OK;</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>    err = nvs_set_blob((nvs_handle_t)p_nvs_handle, key, p_data, len);</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>    <span class="keywordflow">if</span> (err != ESP_OK)</div>
<div class="line"><span class="lineno">  139</span>    {</div>
<div class="line"><span class="lineno">  140</span>        <a class="code hl_define" href="../../d7/dcb/meshx__log_8h.html#a56673888067cbe14c7a33b0856f46eb8">MESHX_LOGE</a>(<a class="code hl_enumvalue" href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedca294f5c4e583ed87401713ad84945e322">MODULE_ID_COMMON</a>, <span class="stringliteral">&quot;nvs_set_blob failed&quot;</span>);</div>
<div class="line"><span class="lineno">  141</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a6c085ef760a07c6f5b9422e1590fde8d">MESHX_ERR_PLAT</a>;</div>
<div class="line"><span class="lineno">  142</span>    }</div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  145</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d28/esp__nvs_8c_a486367a843345efbb5edb7267a706eb3_icgraph.png" border="0" usemap="#adc/d28/esp__nvs_8c_a486367a843345efbb5edb7267a706eb3_icgraph" alt=""/></div>
<map name="adc/d28/esp__nvs_8c_a486367a843345efbb5edb7267a706eb3_icgraph" id="adc/d28/esp__nvs_8c_a486367a843345efbb5edb7267a706eb3_icgraph">
<area shape="rect" title="Write a blob value to the non&#45;volatile storage with a given key and namespace." alt="" coords="869,13,1019,38"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#adbf5f3a6e63cae605581b0f23b21345c" title="Commit changes to the NVS." alt="" coords="684,13,821,38"/>
<area shape="poly" title=" " alt="" coords="854,28,822,28,822,23,854,23"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#af877bf8456b6217ae4cd642f29e85be6" title="Callback handler for MeshX NVS unit test command." alt="" coords="491,5,636,46"/>
<area shape="poly" title=" " alt="" coords="668,28,636,28,636,23,668,23"/>
<area shape="rect" href="../../d5/d8f/meshx__nvs_8c.html#a0fbc3ba9cfa339d3e1b30d101d424685" title="MeshX NVS Initialisation." alt="" coords="332,13,443,38"/>
<area shape="poly" title=" " alt="" coords="476,28,444,28,444,23,476,23"/>
<area shape="rect" href="../../d9/d05/meshx_8c.html#ad4e8f334efad60b97f2d5335210b3a19" title="MeshX initialisation function." alt="" coords="201,13,284,38"/>
<area shape="poly" title=" " alt="" coords="316,28,284,28,284,23,316,23"/>
<area shape="rect" href="../../d0/d29/main_8c.html#a3583f130e87200c7139a48b18f72c8b0" title="Main application entry point." alt="" coords="5,13,153,38"/>
<area shape="poly" title=" " alt="" coords="185,28,153,28,153,23,185,23"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_651562d8bf6cfd3e81eff5b570d7df50.html">port</a></li><li class="navelem"><a class="el" href="../../dir_385fe5669788853ce72f948ad62511ba.html">platform</a></li><li class="navelem"><a class="el" href="../../dir_26f05b192eb828a4470c1bae283fce21.html">esp</a></li><li class="navelem"><a class="el" href="../../dir_b3b9a9973f45f7505a6381d14c2228b7.html">esp_idf</a></li><li class="navelem"><a class="el" href="../../dir_7ffbd69596d7f4dbfe3ce974a552cf85.html">utils</a></li><li class="navelem"><a class="el" href="../../dc/d28/esp__nvs_8c.html">esp_nvs.c</a></li>
    <li class="footer">Generated on Wed Oct 15 2025 20:45:17 for MeshX by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
