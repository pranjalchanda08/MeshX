# This is the main CMakeLists.txt template. Any changes made to this file shall directy reflect to the generated CMakeLists.txt

message("   >> Adding main")
file(GLOB MAIN_SRCS "src/*c")
file(GLOB TASK_SRCS "tasks/*c")

# Filter only directories
set(INC_DIRS 
    "${CMAKE_SOURCE_DIR}/main"
    "${CMAKE_SOURCE_DIR}/main/src"
    "${CMAKE_SOURCE_DIR}/main/common"
    "${CMAKE_SOURCE_DIR}/main/tasks"
    ${DEP_INC}
    )

message("       >> Include Dir: ${INC_DIRS} ${TARGET}")

set(SRCSX
    ${MAIN_SRCS}
    ${TASK_SRCS}
    ${DEP_SRC}
    )

idf_component_register( SRCS ${SRCSX}
                        INCLUDE_DIRS "${INC_DIRS}" 
                        REQUIRES bt
                                example_init
                                nvs_flash)
