# Elements Build registration
elements:
    switch_relay_server:
        path: "meshx/elements/server/switch_relay_server"
        macros:
            - def: "CONFIG_RELAY_SERVER_COUNT"
              value: 0
        models:
            - gen_onoff_server: 1

    switch_relay_client:
        path: "meshx/elements/client/switch_relay_client"
        macros:
            - def: "CONFIG_RELAY_CLIENT_COUNT"
              value: 0
        models:
            - gen_onoff_client: 1

    light_cwww_server:
        path: "meshx/elements/server/light_cwww_server"
        macros:
            - def: "CONFIG_LIGHT_CWWW_SRV_COUNT"
              value: 0
        models:
            - light_ctl_server: 1
            - gen_onoff_server: 1

    light_cwww_client:
        path: "meshx/elements/client/light_cwww_client"
        macros:
            - def: "CONFIG_LIGHT_CWWW_CLIENT_COUNT"
              value: 0
        models:
            - light_ctl_client: 1
            - gen_onoff_client: 1
# Models Build registration
models:
    server_common:
        path: "meshx/elements/server"
        type: "common"
        default: true
        macros:
            - def: "CONFIG_ENABLE_SERVER_COMMON"
              value: false
        base_model: null

    provisioning:
        path: "meshx/elements/server/models/provisioning"
        type: "server"
        default: true
        macros:
            - def: "CONFIG_ENABLE_PROVISIONING"
              value: false
        base_model: null

    config_server:
        path: "meshx/elements/server/models/config_server"
        type: "server"
        default: true
        macros:
            - def: "CONFIG_ENABLE_CONFIG_SERVER"
              value: false
        base_model: null

    gen_onoff_client:
        path: "meshx/elements/client/models/gen_onoff_client"
        type: "client"
        default: false
        macros:
            - def: "CONFIG_GEN_ONOFF_CLIENT_COUNT"
              value: 0
        base_model: null

    gen_onoff_server:
        path: "meshx/elements/server/models/gen_onoff_server"
        type: "server"
        default: false
        macros:
            - def: "CONFIG_GEN_ONOFF_SERVER_COUNT"
              value: 0
        base_model: "gen_server"

    light_ctl_server:
        path: "meshx/elements/server/models/light_ctl_server"
        type: "server"
        default: false
        macros:
            - def: "CONFIG_ENABLE_LIGHT_CTL_SERVER"
              value: false
        base_model: "light_server"

    light_hsl_server:
        path: "meshx/elements/server/models/light_hsl_server"
        type: "server"
        default: false
        macros:
            - def: "CONFIG_ENABLE_LIGHT_HSL_SERVER"
              value: false
        base_model: "light_server"

    light_ctl_client:
        path: "meshx/elements/client/models/light_ctl_client"
        type: "client"
        default: false
        macros:
            - def: "CONFIG_LIGHT_CTL_CLIENT_COUNT"
              value: 0
        base_model: null

# Base model build registration
base_models:
    gen_server:
        path: "meshx/elements/server/models/base/gen_server"
        macros:
            - def: "CONFIG_ENABLE_GEN_SERVER"
              value: false

    light_server:
        path: "meshx/elements/server/models/base/light_server"
        macros:
            - def: "CONFIG_ENABLE_LIGHT_SERVER"
              value: false

# Components build registration
components:
    default:
        path: meshx/default
        type: software
        default: true                       # Contains all mandatory source files
        macros:
            - def: "CONFIG_MESHX_DEFAULT"
              value: false
    unit_test:
        path: meshx/components/unit_test
        type: software
        default: false
        macros:
            - def: "CONFIG_ENABLE_UNIT_TEST"
              value: false
