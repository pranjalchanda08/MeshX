<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MeshX: meshx_nvs.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MeshX<span id="projectnumber">&#160;0.4</span>
   </div>
   <div id="projectbrief">This repository provides an implementation for Bluetooth Low Energy (BLE) Mesh network nodes. The project allows you to create BLE mesh nodes that can communicate with each other, enabling the development of smart home solutions or other IoT-based applications.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_5c982d53a68cdbcd421152b4020263a9.html">main</a></li><li class="navelem"><a class="el" href="../../dir_8c5515a604d4a2bb78291420d5b72747.html">component</a></li><li class="navelem"><a class="el" href="../../dir_17e62e33567b93c5a1475a84b6c9c934.html">meshx</a></li><li class="navelem"><a class="el" href="../../dir_86bf887972b3e0a7dcf1ab1624617c1e.html">inc</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="headertitle"><div class="title">meshx_nvs.h</div></div>
</div><!--header-->
<div class="contents">
<a href="../../d3/d7d/meshx__nvs_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/**</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment"> * @file meshx_nvs.h</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment"> * @brief Header file for MeshX Non-Volatile Storage (NVS) operations.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment"> *</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment"> * This file provides APIs to manage the Non-Volatile Storage (NVS) used in the MeshX system.</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"> * It includes functions to read, write, erase, and manage key-value pairs stored persistently.</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment"> *</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment"> * @author Pranjal Chanda</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment"> *</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment"> */</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span> </div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#ifndef __MESHX_NVS_H__</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#define __MESHX_NVS_H__</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span> </div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;<a class="code" href="../../da/db3/meshx__control__task_8h.html">meshx_control_task.h</a>&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;<a class="code" href="../../d8/d03/meshx__os__timer_8h.html">meshx_os_timer.h</a>&quot;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span> </div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno"><a class="line" href="../../d3/d7d/meshx__nvs_8h.html#a7abd2cc25b71369350fda6b3b642b6cf">   19</a></span><span class="preprocessor">#define MESHX_NVS_TIMER_PERIOD_DEF  1000</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span> </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#ifndef MESHX_NVS_TIMER_PERIOD</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno"><a class="line" href="../../d3/d7d/meshx__nvs_8h.html#acdfadbd307065f6c5dd40b608f03cd65">   22</a></span><span class="preprocessor">#define MESHX_NVS_TIMER_PERIOD      MESHX_NVS_TIMER_PERIOD_DEF</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#endif </span><span class="comment">/* MESHX_NVS_TIMER_PERIOD */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span> </div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno"><a class="line" href="../../d3/d7d/meshx__nvs_8h.html#ae2cd2375171764414a17dc9b5a62041d">   25</a></span><span class="preprocessor">#define MESHX_NVS_AUTO_COMMIT       true</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno"><a class="line" href="../../d3/d7d/meshx__nvs_8h.html#a91f60107d8e88cde2a5d1ad7d1cde084">   26</a></span><span class="preprocessor">#define MESHX_NVS_NO_AUTO_COMMIT    false</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="comment"></span> </div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="comment">/**</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="comment"> * @struct meshx_nvs</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="comment"> * @brief Structure to hold the MeshX NVS data.</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="comment"> */</span></div>
<div class="foldopen" id="foldopen00032" data-start="{" data-end="};">
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno"><a class="line" href="../../dd/d16/structmeshx__nvs.html">   32</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="../../dd/d16/structmeshx__nvs.html">meshx_nvs</a> {</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno"><a class="line" href="../../dd/d16/structmeshx__nvs.html#a1d158b135ac57b51882380140395d4e6">   33</a></span>    uint16_t <a class="code hl_variable" href="../../dd/d16/structmeshx__nvs.html#a1d158b135ac57b51882380140395d4e6">init</a>;                          <span class="comment">/**&lt; NVS initialization flag */</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno"><a class="line" href="../../dd/d16/structmeshx__nvs.html#ad8b5a9e0100d92973b9855894ad11195">   34</a></span>    uint16_t <a class="code hl_variable" href="../../dd/d16/structmeshx__nvs.html#ad8b5a9e0100d92973b9855894ad11195">cid</a>;                           <span class="comment">/**&lt; Company ID */</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno"><a class="line" href="../../dd/d16/structmeshx__nvs.html#a1a27f315ab7f92ae89288d4fd7c2d165">   35</a></span>    uint16_t <a class="code hl_variable" href="../../dd/d16/structmeshx__nvs.html#a1a27f315ab7f92ae89288d4fd7c2d165">pid</a>;                           <span class="comment">/**&lt; Product ID */</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno"><a class="line" href="../../dd/d16/structmeshx__nvs.html#a02dc0e43b47f84a68c2896951361eeb4">   36</a></span>    uintptr_t <a class="code hl_variable" href="../../dd/d16/structmeshx__nvs.html#a02dc0e43b47f84a68c2896951361eeb4">meshx_nvs_handle</a>;             <span class="comment">/**&lt; NVS handle */</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">#ifdef MESHX_NVS_TIMER_PERIOD</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno"><a class="line" href="../../dd/d16/structmeshx__nvs.html#abb490f6c44aba1c835df08e4edf75153">   38</a></span>    <a class="code hl_typedef" href="../../d8/d03/meshx__os__timer_8h.html#a11f3317b82771dd217d13a8e46727819">meshx_os_timer_t</a> *<a class="code hl_variable" href="../../dd/d16/structmeshx__nvs.html#abb490f6c44aba1c835df08e4edf75153">meshx_nvs_commit_tmr</a>; <span class="comment">/**&lt; NVS stability timer */</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="preprocessor">#endif </span><span class="comment">/* MESHX_NVS_TIMER_PERIOD */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno"><a class="line" href="../../d3/d7d/meshx__nvs_8h.html#a7e957a4422141af6aa61e783403cc00f">   40</a></span>}<a class="code hl_typedef" href="../../d3/d7d/meshx__nvs_8h.html#a7e957a4422141af6aa61e783403cc00f">meshx_nvs_t</a>;</div>
</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="comment"></span> </div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="comment">/**</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="comment"> * @brief MeshX NVS Initialisation</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="comment"> *</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="comment"> * @return</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="comment"> *  - MESHX_SUCCESS: Success.</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="comment"> */</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><a class="code hl_enumeration" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> <a class="code hl_function" href="../../d3/d7d/meshx__nvs_8h.html#a0fbc3ba9cfa339d3e1b30d101d424685">meshx_nvs_init</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="comment"></span> </div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="comment">/**</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="comment"> * @brief Erase all key-value pairs stored in the NVS.</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="comment"> *</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="comment"> * This function clears all data stored in the Non-Volatile Storage.</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="comment"> *</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="comment"> * @return</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="comment"> *  - MESHX_SUCCESS: Success.</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="comment"> */</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span><a class="code hl_enumeration" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> <a class="code hl_function" href="../../d3/d7d/meshx__nvs_8h.html#adedf15ddc47ab70982fa07092112ffd1">meshx_nvs_erase</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span><span class="comment"></span> </div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span><span class="comment">/**</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span><span class="comment"> * @brief Commit changes to the NVS.</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="comment"> *</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="comment"> * This function ensures that any pending changes to the NVS are flushed to persistent storage.</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="comment"> *</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span><span class="comment"> * @return</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span><span class="comment"> *  - MESHX_SUCCESS: Success.</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><span class="comment"> */</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span><a class="code hl_enumeration" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> <a class="code hl_function" href="../../d3/d7d/meshx__nvs_8h.html#adbf5f3a6e63cae605581b0f23b21345c">meshx_nvs_commit</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><span class="comment"></span> </div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span><span class="comment">/**</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span><span class="comment"> * @brief Close the NVS handle.</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span><span class="comment"> *</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span><span class="comment"> * This function releases any resources associated with the NVS handle.</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span><span class="comment"> *</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span><span class="comment"> * @return</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><span class="comment"> *  - MESHX_SUCCESS: Success.</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span><span class="comment"> */</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span><a class="code hl_enumeration" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> <a class="code hl_function" href="../../d3/d7d/meshx__nvs_8h.html#a331ae59bfd5632726157f612d8b57b00">meshx_nvs_close</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><span class="comment"></span> </div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span><span class="comment">/**</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="comment"> * @brief Remove a key-value pair from the NVS.</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="comment"> *</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span><span class="comment"> * This function deletes a specific key-value pair from the NVS based on the provided key.</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span><span class="comment"> *</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span><span class="comment"> * @param[in] key The key identifying the value to be removed.</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="comment"> *</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span><span class="comment"> * @return</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span><span class="comment"> *  - MESHX_SUCCESS: Success.</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span><span class="comment"> */</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span><a class="code hl_enumeration" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> <a class="code hl_function" href="../../d3/d7d/meshx__nvs_8h.html#aa14948d7d45d83f3b6d9ca765a17cc58">meshx_nvs_remove</a>(<span class="keywordtype">char</span> <span class="keyword">const</span>* key);</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span><span class="comment"></span> </div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span><span class="comment">/**</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span><span class="comment"> * @brief Open the NVS with a timeout.</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span><span class="comment"> *</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span><span class="comment"> * This function initializes the NVS and sets a timeout for stability operations.</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span><span class="comment"> * @note NVS Namespace: MESHX_NVS_NAMESPACE</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span><span class="comment"> *</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span><span class="comment"> * @param[in] cid Company ID</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span><span class="comment"> * @param[in] pid Product ID</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span><span class="comment"> * @param[in] commit_timeout_ms Timeout for stability operations in milliseconds.</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span><span class="comment"> *</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span><span class="comment"> *</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span><span class="comment"> * @note commit_timeout_ms = 0 -&gt; use MESHX_NVS_TIMER_PERIOD</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span><span class="comment"> *</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span><span class="comment"> * @return</span></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span><span class="comment"> *  - MESHX_SUCCESS: Success.</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span><span class="comment"> */</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span><a class="code hl_enumeration" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> <a class="code hl_function" href="../../d3/d7d/meshx__nvs_8h.html#ab4e5c250438e810358991fbe0e6cd277">meshx_nvs_open</a>(uint16_t cid, uint16_t pid, uint32_t commit_timeout_ms);</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span><span class="comment"></span> </div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span><span class="comment">/**</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span><span class="comment"> * @brief Get a value from the NVS.</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span><span class="comment"> *</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span><span class="comment"> * This function retrieves a value associated with the given key from the NVS.</span></div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span><span class="comment"> *</span></div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span><span class="comment"> * @param[in]    key         The key identifying the value to be retrieved.</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span><span class="comment"> * @param[out]   blob        Pointer to the buffer where the value will be stored.</span></div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span><span class="comment"> * @param[in]    blob_size   Size of the buffer in bytes.</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span><span class="comment"> *</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span><span class="comment"> * @return</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span><span class="comment"> *  - MESHX_SUCCESS: Success.</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span><span class="comment"> */</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span><a class="code hl_enumeration" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> <a class="code hl_function" href="../../d3/d7d/meshx__nvs_8h.html#ae36588f5b4ae5e5ac771e1af86a71e5a">meshx_nvs_get</a>(<span class="keywordtype">char</span> <span class="keyword">const</span> *key, <span class="keywordtype">void</span> *blob, uint16_t blob_size);</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span><span class="comment"></span> </div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span><span class="comment">/**</span></div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span><span class="comment"> * @brief Set a value in the NVS.</span></div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span><span class="comment"> *</span></div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span><span class="comment"> * This function stores a value associated with the given key in the NVS.</span></div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span><span class="comment"> *</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span><span class="comment"> * @param[in] key        The key identifying the value to be stored.</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span><span class="comment"> * @param[in] blob       Pointer to the buffer containing the value.</span></div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span><span class="comment"> * @param[in] blob_size  Size of the buffer in bytes.</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span><span class="comment"> * @param[in] arm_timer  Re-arm stability timer and auto commit</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span><span class="comment"> *</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span><span class="comment"> * @return</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span><span class="comment"> *  - MESHX_SUCCESS: Success.</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span><span class="comment"> */</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span><a class="code hl_enumeration" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> <a class="code hl_function" href="../../d3/d7d/meshx__nvs_8h.html#ab9a39208cc2b067b0b5df0a85d7b4b03">meshx_nvs_set</a>(<span class="keywordtype">char</span> <span class="keyword">const</span>* key, <span class="keywordtype">void</span> <span class="keyword">const</span>* blob, uint16_t blob_size, <span class="keywordtype">bool</span> arm_timer);</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span><span class="comment"></span> </div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span><span class="comment">/**</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span><span class="comment"> * @brief Retrieve the context of a specific element from NVS.</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span><span class="comment"> *</span></div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span><span class="comment"> * This function fetches the stored context of a given element identified by its ID from</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span><span class="comment"> * the Non-Volatile Storage (NVS).</span></div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span><span class="comment"> *</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span><span class="comment"> * @param[in]   element_id  The ID of the element whose context is to be retrieved.</span></div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span><span class="comment"> * @param[out]  blob        Pointer to the buffer where the retrieved context will be stored.</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span><span class="comment"> * @param[in]   blob_size   Size of the buffer provided to store the context.</span></div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span><span class="comment"> *</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span><span class="comment"> * @return</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span><span class="comment"> *     - MESHX_SUCCESS: Successfully retrieved the context.</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span><span class="comment"> */</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span><a class="code hl_enumeration" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> <a class="code hl_function" href="../../d3/d7d/meshx__nvs_8h.html#a3773373d74bd4e2c0415a89f7652ebe8">meshx_nvs_element_ctx_get</a>(uint16_t element_id, <span class="keywordtype">void</span> *blob, <span class="keywordtype">size_t</span> blob_size);</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span><span class="comment"></span> </div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span><span class="comment">/**</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span><span class="comment"> * @brief Store the context of a specific element to NVS.</span></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span><span class="comment"> *</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span><span class="comment"> * This function saves the context of a given element identified by its ID to</span></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span><span class="comment"> * the Non-Volatile Storage (NVS).</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span><span class="comment"> *</span></div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span><span class="comment"> * @param[in] element_id    The ID of the element whose context is to be stored.</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span><span class="comment"> * @param[in] blob          Pointer to the buffer containing the context to be stored.</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span><span class="comment"> * @param[in] blob_size     Size of the buffer containing the context.</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span><span class="comment"> *</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span><span class="comment"> * @return</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span><span class="comment"> *     - MESHX_SUCCESS: Successfully stored the context.</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span><span class="comment"> */</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span><a class="code hl_enumeration" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> <a class="code hl_function" href="../../d3/d7d/meshx__nvs_8h.html#a091a0be186edb6d1dc740b838cf38037">meshx_nvs_element_ctx_set</a>(uint16_t element_id, <span class="keyword">const</span> <span class="keywordtype">void</span> *blob, <span class="keywordtype">size_t</span> blob_size);</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span><span class="comment"></span> </div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span><span class="comment">/**</span></div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span><span class="comment"> * @brief Remove the context of a specific element from NVS.</span></div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span><span class="comment"> *</span></div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span><span class="comment"> * This function deletes the stored context of a given element identified by its ID from</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span><span class="comment"> * the Non-Volatile Storage (NVS).</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span><span class="comment"> *</span></div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span><span class="comment"> * @param[in] element_id The ID of the element whose context is to be removed.</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span><span class="comment"> *</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span><span class="comment"> * @return</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span><span class="comment"> *     - MESHX_SUCCESS: Successfully removed the context.</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span><span class="comment"> */</span></div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span><a class="code hl_enumeration" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> <a class="code hl_function" href="../../d3/d7d/meshx__nvs_8h.html#a6dc2339887b4d2cb0faa01d799838cd1">meshx_nvs_element_ctx_remove</a>(uint16_t element_id);</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span> </div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span><span class="preprocessor">#endif </span><span class="comment">/* __MESHX_NVS_H__ */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span> </div>
<div class="ttc" id="ameshx__control__task_8h_html"><div class="ttname"><a href="../../da/db3/meshx__control__task_8h.html">meshx_control_task.h</a></div><div class="ttdoc">Header file for the control task in the BLE mesh node application.</div></div>
<div class="ttc" id="ameshx__err_8h_html_a6f984f69fa8d0240992b3a1e78bd42f6"><div class="ttname"><a href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a></div><div class="ttdeci">meshx_err_t</div><div class="ttdoc">MeshX Error Codes.</div><div class="ttdef"><b>Definition</b> meshx_err.h:39</div></div>
<div class="ttc" id="ameshx__nvs_8h_html_a091a0be186edb6d1dc740b838cf38037"><div class="ttname"><a href="../../d3/d7d/meshx__nvs_8h.html#a091a0be186edb6d1dc740b838cf38037">meshx_nvs_element_ctx_set</a></div><div class="ttdeci">meshx_err_t meshx_nvs_element_ctx_set(uint16_t element_id, const void *blob, size_t blob_size)</div><div class="ttdoc">Store the context of a specific element to NVS.</div><div class="ttdef"><b>Definition</b> meshx_nvs.c:444</div></div>
<div class="ttc" id="ameshx__nvs_8h_html_a0fbc3ba9cfa339d3e1b30d101d424685"><div class="ttname"><a href="../../d3/d7d/meshx__nvs_8h.html#a0fbc3ba9cfa339d3e1b30d101d424685">meshx_nvs_init</a></div><div class="ttdeci">meshx_err_t meshx_nvs_init(void)</div><div class="ttdoc">MeshX NVS Initialisation.</div><div class="ttdef"><b>Definition</b> meshx_nvs.c:135</div></div>
<div class="ttc" id="ameshx__nvs_8h_html_a331ae59bfd5632726157f612d8b57b00"><div class="ttname"><a href="../../d3/d7d/meshx__nvs_8h.html#a331ae59bfd5632726157f612d8b57b00">meshx_nvs_close</a></div><div class="ttdeci">meshx_err_t meshx_nvs_close(void)</div><div class="ttdoc">Close the NVS handle.</div><div class="ttdef"><b>Definition</b> meshx_nvs.c:297</div></div>
<div class="ttc" id="ameshx__nvs_8h_html_a3773373d74bd4e2c0415a89f7652ebe8"><div class="ttname"><a href="../../d3/d7d/meshx__nvs_8h.html#a3773373d74bd4e2c0415a89f7652ebe8">meshx_nvs_element_ctx_get</a></div><div class="ttdeci">meshx_err_t meshx_nvs_element_ctx_get(uint16_t element_id, void *blob, size_t blob_size)</div><div class="ttdoc">Retrieve the context of a specific element from NVS.</div><div class="ttdef"><b>Definition</b> meshx_nvs.c:424</div></div>
<div class="ttc" id="ameshx__nvs_8h_html_a6dc2339887b4d2cb0faa01d799838cd1"><div class="ttname"><a href="../../d3/d7d/meshx__nvs_8h.html#a6dc2339887b4d2cb0faa01d799838cd1">meshx_nvs_element_ctx_remove</a></div><div class="ttdeci">meshx_err_t meshx_nvs_element_ctx_remove(uint16_t element_id)</div><div class="ttdoc">Remove the context of a specific element from NVS.</div><div class="ttdef"><b>Definition</b> meshx_nvs.c:462</div></div>
<div class="ttc" id="ameshx__nvs_8h_html_a7e957a4422141af6aa61e783403cc00f"><div class="ttname"><a href="../../d3/d7d/meshx__nvs_8h.html#a7e957a4422141af6aa61e783403cc00f">meshx_nvs_t</a></div><div class="ttdeci">struct meshx_nvs meshx_nvs_t</div></div>
<div class="ttc" id="ameshx__nvs_8h_html_aa14948d7d45d83f3b6d9ca765a17cc58"><div class="ttname"><a href="../../d3/d7d/meshx__nvs_8h.html#aa14948d7d45d83f3b6d9ca765a17cc58">meshx_nvs_remove</a></div><div class="ttdeci">meshx_err_t meshx_nvs_remove(char const *key)</div><div class="ttdoc">Remove a key-value pair from the NVS.</div><div class="ttdef"><b>Definition</b> meshx_nvs.c:326</div></div>
<div class="ttc" id="ameshx__nvs_8h_html_ab4e5c250438e810358991fbe0e6cd277"><div class="ttname"><a href="../../d3/d7d/meshx__nvs_8h.html#ab4e5c250438e810358991fbe0e6cd277">meshx_nvs_open</a></div><div class="ttdeci">meshx_err_t meshx_nvs_open(uint16_t cid, uint16_t pid, uint32_t commit_timeout_ms)</div><div class="ttdoc">Open the NVS with a timeout.</div><div class="ttdef"><b>Definition</b> meshx_nvs.c:165</div></div>
<div class="ttc" id="ameshx__nvs_8h_html_ab9a39208cc2b067b0b5df0a85d7b4b03"><div class="ttname"><a href="../../d3/d7d/meshx__nvs_8h.html#ab9a39208cc2b067b0b5df0a85d7b4b03">meshx_nvs_set</a></div><div class="ttdeci">meshx_err_t meshx_nvs_set(char const *key, void const *blob, uint16_t blob_size, bool arm_timer)</div><div class="ttdoc">Set a value in the NVS.</div><div class="ttdef"><b>Definition</b> meshx_nvs.c:366</div></div>
<div class="ttc" id="ameshx__nvs_8h_html_adbf5f3a6e63cae605581b0f23b21345c"><div class="ttname"><a href="../../d3/d7d/meshx__nvs_8h.html#adbf5f3a6e63cae605581b0f23b21345c">meshx_nvs_commit</a></div><div class="ttdeci">meshx_err_t meshx_nvs_commit(void)</div><div class="ttdoc">Commit changes to the NVS.</div><div class="ttdef"><b>Definition</b> meshx_nvs.c:259</div></div>
<div class="ttc" id="ameshx__nvs_8h_html_adedf15ddc47ab70982fa07092112ffd1"><div class="ttname"><a href="../../d3/d7d/meshx__nvs_8h.html#adedf15ddc47ab70982fa07092112ffd1">meshx_nvs_erase</a></div><div class="ttdeci">meshx_err_t meshx_nvs_erase(void)</div><div class="ttdoc">Erase all key-value pairs stored in the NVS.</div><div class="ttdef"><b>Definition</b> meshx_nvs.c:243</div></div>
<div class="ttc" id="ameshx__nvs_8h_html_ae36588f5b4ae5e5ac771e1af86a71e5a"><div class="ttname"><a href="../../d3/d7d/meshx__nvs_8h.html#ae36588f5b4ae5e5ac771e1af86a71e5a">meshx_nvs_get</a></div><div class="ttdeci">meshx_err_t meshx_nvs_get(char const *key, void *blob, uint16_t blob_size)</div><div class="ttdoc">Get a value from the NVS.</div><div class="ttdef"><b>Definition</b> meshx_nvs.c:346</div></div>
<div class="ttc" id="ameshx__os__timer_8h_html"><div class="ttname"><a href="../../d8/d03/meshx__os__timer_8h.html">meshx_os_timer.h</a></div><div class="ttdoc">Header file for OS timer utilities.</div></div>
<div class="ttc" id="ameshx__os__timer_8h_html_a11f3317b82771dd217d13a8e46727819"><div class="ttname"><a href="../../d8/d03/meshx__os__timer_8h.html#a11f3317b82771dd217d13a8e46727819">meshx_os_timer_t</a></div><div class="ttdeci">struct meshx_os_timer meshx_os_timer_t</div><div class="ttdoc">Alias for the meshx_os_timer structure.</div><div class="ttdef"><b>Definition</b> meshx_os_timer.h:47</div></div>
<div class="ttc" id="astructmeshx__nvs_html"><div class="ttname"><a href="../../dd/d16/structmeshx__nvs.html">meshx_nvs</a></div><div class="ttdoc">Structure to hold the MeshX NVS data.</div><div class="ttdef"><b>Definition</b> meshx_nvs.h:32</div></div>
<div class="ttc" id="astructmeshx__nvs_html_a02dc0e43b47f84a68c2896951361eeb4"><div class="ttname"><a href="../../dd/d16/structmeshx__nvs.html#a02dc0e43b47f84a68c2896951361eeb4">meshx_nvs::meshx_nvs_handle</a></div><div class="ttdeci">uintptr_t meshx_nvs_handle</div><div class="ttdef"><b>Definition</b> meshx_nvs.h:36</div></div>
<div class="ttc" id="astructmeshx__nvs_html_a1a27f315ab7f92ae89288d4fd7c2d165"><div class="ttname"><a href="../../dd/d16/structmeshx__nvs.html#a1a27f315ab7f92ae89288d4fd7c2d165">meshx_nvs::pid</a></div><div class="ttdeci">uint16_t pid</div><div class="ttdef"><b>Definition</b> meshx_nvs.h:35</div></div>
<div class="ttc" id="astructmeshx__nvs_html_a1d158b135ac57b51882380140395d4e6"><div class="ttname"><a href="../../dd/d16/structmeshx__nvs.html#a1d158b135ac57b51882380140395d4e6">meshx_nvs::init</a></div><div class="ttdeci">uint16_t init</div><div class="ttdef"><b>Definition</b> meshx_nvs.h:33</div></div>
<div class="ttc" id="astructmeshx__nvs_html_abb490f6c44aba1c835df08e4edf75153"><div class="ttname"><a href="../../dd/d16/structmeshx__nvs.html#abb490f6c44aba1c835df08e4edf75153">meshx_nvs::meshx_nvs_commit_tmr</a></div><div class="ttdeci">meshx_os_timer_t * meshx_nvs_commit_tmr</div><div class="ttdef"><b>Definition</b> meshx_nvs.h:38</div></div>
<div class="ttc" id="astructmeshx__nvs_html_ad8b5a9e0100d92973b9855894ad11195"><div class="ttname"><a href="../../dd/d16/structmeshx__nvs.html#ad8b5a9e0100d92973b9855894ad11195">meshx_nvs::cid</a></div><div class="ttdeci">uint16_t cid</div><div class="ttdef"><b>Definition</b> meshx_nvs.h:34</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 28 2025 19:17:04 for MeshX by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
