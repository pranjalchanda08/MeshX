<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MeshX: meshx_rtos_utils.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MeshX<span id="projectnumber">&#160;0.4</span>
   </div>
   <div id="projectbrief">This repository provides an implementation for Bluetooth Low Energy (BLE) Mesh network nodes. The project allows you to create BLE mesh nodes that can communicate with each other, enabling the development of smart home solutions or other IoT-based applications.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_5c982d53a68cdbcd421152b4020263a9.html">main</a></li><li class="navelem"><a class="el" href="../../dir_8c5515a604d4a2bb78291420d5b72747.html">component</a></li><li class="navelem"><a class="el" href="../../dir_17e62e33567b93c5a1475a84b6c9c934.html">meshx</a></li><li class="navelem"><a class="el" href="../../dir_86bf887972b3e0a7dcf1ab1624617c1e.html">inc</a></li><li class="navelem"><a class="el" href="../../dir_1c8fb1a332d5375a708e5a5430cbb29d.html">interface</a></li><li class="navelem"><a class="el" href="../../dir_da3e69c81d3d15079627cae3050030a0.html">rtos</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">meshx_rtos_utils.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Utility functions for RTOS operations in the MeshX framework.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../da/d68/meshx__err_8h_source.html">meshx_err.h</a>&quot;</code><br />
<code>#include &quot;stddef.h&quot;</code><br />
</div>
<p><a href="../../d8/d39/meshx__rtos__utils_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a36747ae13d908654ff25903375211660" id="r_a36747ae13d908654ff25903375211660"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a36747ae13d908654ff25903375211660">meshx_rtos_get_sys_time</a> (unsigned int *millis)</td></tr>
<tr class="memdesc:a36747ae13d908654ff25903375211660"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the current system time in milliseconds.  <br /></td></tr>
<tr class="separator:a36747ae13d908654ff25903375211660"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c92540cc0fdce9abf97534c500497b2" id="r_a9c92540cc0fdce9abf97534c500497b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c92540cc0fdce9abf97534c500497b2">meshx_rtos_malloc</a> (void **ptr, size_t size)</td></tr>
<tr class="memdesc:a9c92540cc0fdce9abf97534c500497b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates memory dynamically in a thread-safe manner using FreeRTOS.  <br /></td></tr>
<tr class="separator:a9c92540cc0fdce9abf97534c500497b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97964d66294c339e17c1ef3b99bb1c17" id="r_a97964d66294c339e17c1ef3b99bb1c17"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a97964d66294c339e17c1ef3b99bb1c17">meshx_rtos_calloc</a> (void **ptr, size_t num, size_t size)</td></tr>
<tr class="memdesc:a97964d66294c339e17c1ef3b99bb1c17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates memory for an array of elements and initializes it to zero.  <br /></td></tr>
<tr class="separator:a97964d66294c339e17c1ef3b99bb1c17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99d2d0830c65372a6e033a1533dec6ad" id="r_a99d2d0830c65372a6e033a1533dec6ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a99d2d0830c65372a6e033a1533dec6ad">meshx_rtos_free</a> (void **ptr)</td></tr>
<tr class="memdesc:a99d2d0830c65372a6e033a1533dec6ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees memory allocated to a pointer and sets it to NULL.  <br /></td></tr>
<tr class="separator:a99d2d0830c65372a6e033a1533dec6ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad309d711ffcb1c21db96e15eb5c1fa22" id="r_ad309d711ffcb1c21db96e15eb5c1fa22"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad309d711ffcb1c21db96e15eb5c1fa22">meshx_rtos_get_free_heap</a> (void)</td></tr>
<tr class="memdesc:ad309d711ffcb1c21db96e15eb5c1fa22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the amount of free heap memory available in the system.  <br /></td></tr>
<tr class="separator:ad309d711ffcb1c21db96e15eb5c1fa22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6816e2e6131dc78da745ce5d815043e0" id="r_a6816e2e6131dc78da745ce5d815043e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6816e2e6131dc78da745ce5d815043e0">meshx_rtos_get_curr_task_id_prio</a> (unsigned int *task_id)</td></tr>
<tr class="memdesc:a6816e2e6131dc78da745ce5d815043e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the current task ID.  <br /></td></tr>
<tr class="separator:a6816e2e6131dc78da745ce5d815043e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Utility functions for RTOS operations in the MeshX framework. </p>
<p>This header file provides a set of utility functions for interacting with the RTOS in the MeshX framework. These utilities include functions for retrieving system time, memory allocation and deallocation, and querying the amount of free heap memory.</p>
<p>The functions in this file are designed to simplify common RTOS operations and ensure consistent error handling across the MeshX framework.</p>
<dl class="section author"><dt>Author</dt><dd>Pranjal Chanda </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a97964d66294c339e17c1ef3b99bb1c17" name="a97964d66294c339e17c1ef3b99bb1c17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97964d66294c339e17c1ef3b99bb1c17">&#9670;&#160;</a></span>meshx_rtos_calloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_rtos_calloc </td>
          <td>(</td>
          <td class="paramtype">void **</td>          <td class="paramname"><span class="paramname"><em>ptr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>num</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates memory for an array of elements and initializes it to zero. </p>
<p>This function allocates memory for an array of <code>num</code> elements, each of size <code>size</code>, and initializes all bytes in the allocated memory to zero. The allocated memory pointer is returned via the <code>ptr</code> parameter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ptr</td><td>Pointer to the allocated memory. This will be set to NULL if the allocation fails. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num</td><td>Number of elements to allocate. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Size of each element in bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>MESHX_SUCCESS: Memory allocation was successful.</li>
<li>MESHX_ERR_NO_MEM: Memory allocation failed due to insufficient memory. </li>
</ul>
</dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   97</span>{</div>
<div class="line"><span class="lineno">   98</span>    <span class="keywordflow">if</span> (!ptr || num == 0 || size == 0)</div>
<div class="line"><span class="lineno">   99</span>    {</div>
<div class="line"><span class="lineno">  100</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e">MESHX_INVALID_ARG</a>; <span class="comment">// Invalid input</span></div>
<div class="line"><span class="lineno">  101</span>    }</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>    *ptr = pvPortMalloc(size);</div>
<div class="line"><span class="lineno">  104</span>    <span class="keywordflow">if</span> (*ptr == NULL)</div>
<div class="line"><span class="lineno">  105</span>    {</div>
<div class="line"><span class="lineno">  106</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6ad805de8202860d5657dc396e4b00aefe">MESHX_NO_MEM</a>; <span class="comment">// Memory allocation failed</span></div>
<div class="line"><span class="lineno">  107</span>    }</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>    memset(*ptr, 0, num * size); <span class="comment">// Initialize allocated memory to zero</span></div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  112</span>}</div>
<div class="ttc" id="ameshx__err_8h_html_a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b"><div class="ttname"><a href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a></div><div class="ttdeci">@ MESHX_SUCCESS</div><div class="ttdef"><b>Definition</b> meshx_err.h:40</div></div>
<div class="ttc" id="ameshx__err_8h_html_a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e"><div class="ttname"><a href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e">MESHX_INVALID_ARG</a></div><div class="ttdeci">@ MESHX_INVALID_ARG</div><div class="ttdef"><b>Definition</b> meshx_err.h:42</div></div>
<div class="ttc" id="ameshx__err_8h_html_a6f984f69fa8d0240992b3a1e78bd42f6ad805de8202860d5657dc396e4b00aefe"><div class="ttname"><a href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6ad805de8202860d5657dc396e4b00aefe">MESHX_NO_MEM</a></div><div class="ttdeci">@ MESHX_NO_MEM</div><div class="ttdef"><b>Definition</b> meshx_err.h:44</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a99d2d0830c65372a6e033a1533dec6ad" name="a99d2d0830c65372a6e033a1533dec6ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99d2d0830c65372a6e033a1533dec6ad">&#9670;&#160;</a></span>meshx_rtos_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_rtos_free </td>
          <td>(</td>
          <td class="paramtype">void **</td>          <td class="paramname"><span class="paramname"><em>ptr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees memory allocated to a pointer and sets it to NULL. </p>
<p>This function is used to safely deallocate memory that was previously allocated and ensures that the pointer is set to NULL to avoid dangling pointer issues.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ptr</td><td>A double pointer to the memory to be freed. After the memory is freed, the pointer is set to NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>MESHX_SUCCESS on successful deallocation.</li>
<li>MESHX_ERR_INVALID_ARG if the provided pointer is NULL or invalid.</li>
<li>Other error codes depending on the implementation. </li>
</ul>
</dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  130</span>{</div>
<div class="line"><span class="lineno">  131</span>    <span class="keywordflow">if</span> (ptr &amp;&amp; *ptr)</div>
<div class="line"><span class="lineno">  132</span>    {                    <span class="comment">// Ensure pointer is valid</span></div>
<div class="line"><span class="lineno">  133</span>        vPortFree(*ptr); <span class="comment">// Free the actual allocated memory</span></div>
<div class="line"><span class="lineno">  134</span>        *ptr = NULL;     <span class="comment">// Set pointer to NULL to avoid dangling reference</span></div>
<div class="line"><span class="lineno">  135</span>    }</div>
<div class="line"><span class="lineno">  136</span>    <a class="code hl_define" href="../../d7/dcb/meshx__log_8h.html#acb76057f2c8e23ca61edf04fd824818b">MESHX_LOGD</a>(<a class="code hl_enumvalue" href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedca294f5c4e583ed87401713ad84945e322">MODULE_ID_COMMON</a>, <span class="stringliteral">&quot;ESP Heap available: %d&quot;</span>, <a class="code hl_function" href="../../d3/df5/meshx__utils_8c.html#ad309d711ffcb1c21db96e15eb5c1fa22">meshx_rtos_get_free_heap</a>());</div>
<div class="line"><span class="lineno">  137</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  138</span>}</div>
<div class="ttc" id="ameshx__log_8h_html_acb76057f2c8e23ca61edf04fd824818b"><div class="ttname"><a href="../../d7/dcb/meshx__log_8h.html#acb76057f2c8e23ca61edf04fd824818b">MESHX_LOGD</a></div><div class="ttdeci">#define MESHX_LOGD(module_id, format,...)</div><div class="ttdef"><b>Definition</b> meshx_log.h:113</div></div>
<div class="ttc" id="ameshx__utils_8c_html_ad309d711ffcb1c21db96e15eb5c1fa22"><div class="ttname"><a href="../../d3/df5/meshx__utils_8c.html#ad309d711ffcb1c21db96e15eb5c1fa22">meshx_rtos_get_free_heap</a></div><div class="ttdeci">size_t meshx_rtos_get_free_heap(void)</div><div class="ttdoc">Retrieves the amount of free heap memory available in the system.</div><div class="ttdef"><b>Definition</b> meshx_utils.c:150</div></div>
<div class="ttc" id="amodule__id_8h_html_ac6141ce7b2d1d07b28553017c6a3aedca294f5c4e583ed87401713ad84945e322"><div class="ttname"><a href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedca294f5c4e583ed87401713ad84945e322">MODULE_ID_COMMON</a></div><div class="ttdeci">@ MODULE_ID_COMMON</div><div class="ttdef"><b>Definition</b> module_id.h:32</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6816e2e6131dc78da745ce5d815043e0" name="a6816e2e6131dc78da745ce5d815043e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6816e2e6131dc78da745ce5d815043e0">&#9670;&#160;</a></span>meshx_rtos_get_curr_task_id_prio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_rtos_get_curr_task_id_prio </td>
          <td>(</td>
          <td class="paramtype">unsigned int *</td>          <td class="paramname"><span class="paramname"><em>task_id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the current task ID. </p>
<p>This function retrieves the current task ID using FreeRTOS APIs. The task ID is stored in the variable pointed to by the <code>task_id</code> parameter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">task_id</td><td>Pointer to an unsigned integer where the task ID will be stored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>MESHX_SUCCESS: If the task ID was successfully retrieved.</li>
<li>MESHX_ERR_INVALID_ARG: If the provided pointer is NULL or invalid.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Ensure that the <code>task_id</code> pointer is valid and not NULL before calling this function. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  171</span>{</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span><span class="preprocessor">#ifdef configUSE_TRACE_FACILITY</span></div>
<div class="line"><span class="lineno">  174</span>    TaskStatus_t xTaskDetails;</div>
<div class="line"><span class="lineno">  175</span>    vTaskGetInfo(NULL, &amp;xTaskDetails, pdTRUE, eInvalid);</div>
<div class="line"><span class="lineno">  176</span>    *task_id = xTaskDetails.xTaskNumber &lt;&lt; 8 | xTaskDetails.uxCurrentPriority;</div>
<div class="line"><span class="lineno">  177</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  178</span>    *task_id = 0x5A;    <span class="comment">/* Dummy Task ID*/</span></div>
<div class="line"><span class="lineno">  179</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  180</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad309d711ffcb1c21db96e15eb5c1fa22" name="ad309d711ffcb1c21db96e15eb5c1fa22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad309d711ffcb1c21db96e15eb5c1fa22">&#9670;&#160;</a></span>meshx_rtos_get_free_heap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t meshx_rtos_get_free_heap </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the amount of free heap memory available in the system. </p>
<p>This function is used to query the current amount of free heap memory available in the system. It is useful for monitoring memory usage and ensuring that the system has sufficient resources for dynamic memory allocation.</p>
<dl class="section return"><dt>Returns</dt><dd>size_t The amount of free heap memory in bytes. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  151</span>{</div>
<div class="line"><span class="lineno">  152</span>    <span class="keywordflow">return</span> xPortGetFreeHeapSize();</div>
<div class="line"><span class="lineno">  153</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a36747ae13d908654ff25903375211660" name="a36747ae13d908654ff25903375211660"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36747ae13d908654ff25903375211660">&#9670;&#160;</a></span>meshx_rtos_get_sys_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_rtos_get_sys_time </td>
          <td>(</td>
          <td class="paramtype">unsigned int *</td>          <td class="paramname"><span class="paramname"><em>millis</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the current system time in milliseconds. </p>
<p>This function calculates the system time in milliseconds based on the FreeRTOS tick count and the configured tick rate. The result is stored in the variable pointed to by the <code>millis</code> parameter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">millis</td><td>Pointer to an unsigned integer where the system time in milliseconds will be stored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>MESHX_SUCCESS: If the system time was successfully retrieved.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Ensure that the <code>millis</code> pointer is valid and not NULL before calling this function. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   37</span>{</div>
<div class="line"><span class="lineno">   38</span>    <span class="keywordflow">if</span>(xPortInIsrContext() == pdFALSE)</div>
<div class="line"><span class="lineno">   39</span>    {</div>
<div class="line"><span class="lineno">   40</span>        *millis = xTaskGetTickCount() * (1000 / configTICK_RATE_HZ);</div>
<div class="line"><span class="lineno">   41</span>    }</div>
<div class="line"><span class="lineno">   42</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   43</span>    {</div>
<div class="line"><span class="lineno">   44</span>        *millis = xTaskGetTickCountFromISR() * (1000 / configTICK_RATE_HZ);</div>
<div class="line"><span class="lineno">   45</span>    }</div>
<div class="line"><span class="lineno">   46</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">   47</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9c92540cc0fdce9abf97534c500497b2" name="a9c92540cc0fdce9abf97534c500497b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c92540cc0fdce9abf97534c500497b2">&#9670;&#160;</a></span>meshx_rtos_malloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_rtos_malloc </td>
          <td>(</td>
          <td class="paramtype">void **</td>          <td class="paramname"><span class="paramname"><em>ptr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates memory dynamically in a thread-safe manner using FreeRTOS. </p>
<p>This function wraps the memory allocation process to ensure compatibility with the FreeRTOS environment. It allocates a block of memory of the specified size and assigns the pointer to the provided pointer variable.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ptr</td><td>Pointer to the memory location where the allocated memory address will be stored. Must not be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>The size of the memory block to allocate, in bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>MESHX_SUCCESS on successful memory allocation.</li>
<li>MESHX_ERR_NO_MEM if memory allocation fails.</li>
<li>Other error codes as defined in the <a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6" title="MeshX Error Codes.">meshx_err_t</a> enumeration. </li>
</ul>
</dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   66</span>{</div>
<div class="line"><span class="lineno">   67</span>    <span class="keywordflow">if</span> (!ptr || size == 0)</div>
<div class="line"><span class="lineno">   68</span>    {</div>
<div class="line"><span class="lineno">   69</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e">MESHX_INVALID_ARG</a>; <span class="comment">// Invalid input</span></div>
<div class="line"><span class="lineno">   70</span>    }</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>    *ptr = pvPortMalloc(size);</div>
<div class="line"><span class="lineno">   73</span>    <span class="keywordflow">if</span> (*ptr == NULL)</div>
<div class="line"><span class="lineno">   74</span>    {</div>
<div class="line"><span class="lineno">   75</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6ad805de8202860d5657dc396e4b00aefe">MESHX_NO_MEM</a>; <span class="comment">// Memory allocation failed</span></div>
<div class="line"><span class="lineno">   76</span>    }</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">   79</span>}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 30 2025 16:11:42 for MeshX by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
