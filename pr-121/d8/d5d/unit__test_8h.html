<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MeshX: unit_test.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MeshX<span id="projectnumber">&#160;0.4</span>
   </div>
   <div id="projectbrief">This repository provides an implementation for Bluetooth Low Energy (BLE) Mesh network nodes. The project allows you to create BLE mesh nodes that can communicate with each other, enabling the development of smart home solutions or other IoT-based applications.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_5c982d53a68cdbcd421152b4020263a9.html">main</a></li><li class="navelem"><a class="el" href="../../dir_8c5515a604d4a2bb78291420d5b72747.html">component</a></li><li class="navelem"><a class="el" href="../../dir_7106da7ca9e1167085a7ce8f19282518.html">unit_test</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">unit_test.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Header file for the production console unit test functionality.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../df/d01/meshx__config__internal_8h_source.html">meshx_config_internal.h</a>&quot;</code><br />
<code>#include &quot;argtable3/argtable3.h&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/da1/module__id_8h_source.html">module_id.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../da/d68/meshx__err_8h_source.html">meshx_err.h</a>&quot;</code><br />
</div>
<p><a href="../../d8/d5d/unit__test_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dcc/structcallback__node.html">callback_node</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure to hold the unit test callback function.  <a href="../../da/dcc/structcallback__node.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a67c1dee05a40b80923f2cef7f4b3d6b7" id="r_a67c1dee05a40b80923f2cef7f4b3d6b7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67c1dee05a40b80923f2cef7f4b3d6b7">UT_GET_ARG</a>(_x,  _type,  _argv)</td></tr>
<tr class="memdesc:a67c1dee05a40b80923f2cef7f4b3d6b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to extract an argument from the argument list.  <br /></td></tr>
<tr class="separator:a67c1dee05a40b80923f2cef7f4b3d6b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a3e08a6c66b2c70772a07ceee9ded1ef6" id="r_a3e08a6c66b2c70772a07ceee9ded1ef6"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3e08a6c66b2c70772a07ceee9ded1ef6">module_callback_t</a>) (int cmd_id, int argc, char **argv)</td></tr>
<tr class="memdesc:a3e08a6c66b2c70772a07ceee9ded1ef6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function for unit test modules.  <br /></td></tr>
<tr class="separator:a3e08a6c66b2c70772a07ceee9ded1ef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a929f2c2fc221cab8d7ac3427cee1fd92" id="r_a929f2c2fc221cab8d7ac3427cee1fd92"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../da/dcc/structcallback__node.html">callback_node</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a929f2c2fc221cab8d7ac3427cee1fd92">unit_test_callback_t</a></td></tr>
<tr class="memdesc:a929f2c2fc221cab8d7ac3427cee1fd92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure to hold the unit test callback function.  <br /></td></tr>
<tr class="separator:a929f2c2fc221cab8d7ac3427cee1fd92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0a94d2d1ac1c4f3f4744437b65cca426" id="r_a0a94d2d1ac1c4f3f4744437b65cca426"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0a94d2d1ac1c4f3f4744437b65cca426">register_ut_command</a> ()</td></tr>
<tr class="memdesc:a0a94d2d1ac1c4f3f4744437b65cca426"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers the unit test (ut) command with the ESP console.  <br /></td></tr>
<tr class="separator:a0a94d2d1ac1c4f3f4744437b65cca426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac53b1c7902dc73e10c0add8b1a7a2985" id="r_ac53b1c7902dc73e10c0add8b1a7a2985"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac53b1c7902dc73e10c0add8b1a7a2985">init_unit_test_console</a> (void)</td></tr>
<tr class="memdesc:ac53b1c7902dc73e10c0add8b1a7a2985"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the production console.  <br /></td></tr>
<tr class="separator:ac53b1c7902dc73e10c0add8b1a7a2985"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a763886d5c865bfc15d5693604c5f5923" id="r_a763886d5c865bfc15d5693604c5f5923"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a763886d5c865bfc15d5693604c5f5923">register_unit_test</a> (<a class="el" href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedc">module_id_t</a> module_id, <a class="el" href="#a3e08a6c66b2c70772a07ceee9ded1ef6">module_callback_t</a> callback)</td></tr>
<tr class="memdesc:a763886d5c865bfc15d5693604c5f5923"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a unit test for a specific module.  <br /></td></tr>
<tr class="separator:a763886d5c865bfc15d5693604c5f5923"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file for the production console unit test functionality. </p>
<p>Copyright © 2024 - 2025 MeshX</p>
<p>This file contains the declarations and definitions for initializing the production console and registering unit test callbacks for different modules. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a67c1dee05a40b80923f2cef7f4b3d6b7" name="a67c1dee05a40b80923f2cef7f4b3d6b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67c1dee05a40b80923f2cef7f4b3d6b7">&#9670;&#160;</a></span>UT_GET_ARG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UT_GET_ARG</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>_x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>_type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>_argv</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(_type) atoi( _argv [_x] )</div>
</div><!-- fragment -->
<p>Macro to extract an argument from the argument list. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a3e08a6c66b2c70772a07ceee9ded1ef6" name="a3e08a6c66b2c70772a07ceee9ded1ef6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e08a6c66b2c70772a07ceee9ded1ef6">&#9670;&#160;</a></span>module_callback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>(* module_callback_t) (int cmd_id, int argc, char **argv)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function for unit test modules. </p>
<p>This function is used to define the callback function signature for unit test modules. The callback function is invoked when a unit test command is received by the production console.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd_id</td><td>The command ID to be processed. </td></tr>
    <tr><td class="paramname">argc</td><td>The number of arguments provided. </td></tr>
    <tr><td class="paramname">argv</td><td>The array of arguments.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>MESHX_SUCCESS: Success</li>
<li>MESHX_INVALID_ARG: Invalid arguments</li>
<li>Other error codes depending on the implementation </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a929f2c2fc221cab8d7ac3427cee1fd92" name="a929f2c2fc221cab8d7ac3427cee1fd92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a929f2c2fc221cab8d7ac3427cee1fd92">&#9670;&#160;</a></span>unit_test_callback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../da/dcc/structcallback__node.html">callback_node</a> <a class="el" href="#a929f2c2fc221cab8d7ac3427cee1fd92">unit_test_callback_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Structure to hold the unit test callback function. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac53b1c7902dc73e10c0add8b1a7a2985" name="ac53b1c7902dc73e10c0add8b1a7a2985"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac53b1c7902dc73e10c0add8b1a7a2985">&#9670;&#160;</a></span>init_unit_test_console()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> init_unit_test_console </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the production console. </p>
<p>This function initializes the production console for the application.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>MESHX_SUCCESS: Success</li>
<li>MESHX_FAIL: Initialization failed </li>
</ul>
</dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  100</span>                                     {</div>
<div class="line"><span class="lineno">  101</span>    <span class="comment">// Initialize the console</span></div>
<div class="line"><span class="lineno">  102</span>    <a class="code hl_enumeration" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> err = <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  103</span>    esp_console_repl_t *repl = NULL;</div>
<div class="line"><span class="lineno">  104</span>    esp_console_repl_config_t repl_config = ESP_CONSOLE_REPL_CONFIG_DEFAULT();</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>    repl_config.prompt = <span class="stringliteral">&quot;X&gt;&quot;</span>;</div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span>    <span class="comment">// install console REPL environment</span></div>
<div class="line"><span class="lineno">  109</span><span class="preprocessor">#if CONFIG_ESP_CONSOLE_UART</span></div>
<div class="line"><span class="lineno">  110</span>    esp_console_dev_uart_config_t uart_config = ESP_CONSOLE_DEV_UART_CONFIG_DEFAULT();</div>
<div class="line"><span class="lineno">  111</span>    ESP_ERROR_CHECK(esp_console_new_repl_uart(&amp;uart_config, &amp;repl_config, &amp;repl));</div>
<div class="line"><span class="lineno">  112</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  113</span><span class="preprocessor">#if CONFIG_ESP_CONSOLE_USB_CDC</span></div>
<div class="line"><span class="lineno">  114</span>    esp_console_dev_usb_cdc_config_t cdc_config = ESP_CONSOLE_DEV_CDC_CONFIG_DEFAULT();</div>
<div class="line"><span class="lineno">  115</span>    ESP_ERROR_CHECK(esp_console_new_repl_usb_cdc(&amp;cdc_config, &amp;repl_config, &amp;repl));</div>
<div class="line"><span class="lineno">  116</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  117</span><span class="preprocessor">#if CONFIG_ESP_CONSOLE_USB_SERIAL_JTAG</span></div>
<div class="line"><span class="lineno">  118</span>    esp_console_dev_usb_serial_jtag_config_t usbjtag_config = ESP_CONSOLE_DEV_USB_SERIAL_JTAG_CONFIG_DEFAULT();</div>
<div class="line"><span class="lineno">  119</span>    ESP_ERROR_CHECK(esp_console_new_repl_usb_serial_jtag(&amp;usbjtag_config, &amp;repl_config, &amp;repl));</div>
<div class="line"><span class="lineno">  120</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>    <span class="comment">// Register the unit test command</span></div>
<div class="line"><span class="lineno">  123</span>    err = <a class="code hl_function" href="../../da/dd5/unit__test_8c.html#a0a94d2d1ac1c4f3f4744437b65cca426">register_ut_command</a>();</div>
<div class="line"><span class="lineno">  124</span>    <span class="keywordflow">if</span> (err != <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>) {</div>
<div class="line"><span class="lineno">  125</span>        <span class="keywordflow">return</span> err;</div>
<div class="line"><span class="lineno">  126</span>    }</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>    err = esp_console_start_repl(repl);</div>
<div class="line"><span class="lineno">  129</span>    <span class="keywordflow">if</span> (err != <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>) {</div>
<div class="line"><span class="lineno">  130</span>        <span class="keywordflow">return</span> err;</div>
<div class="line"><span class="lineno">  131</span>    }</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  134</span>}</div>
<div class="ttc" id="ameshx__err_8h_html_a6f984f69fa8d0240992b3a1e78bd42f6"><div class="ttname"><a href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a></div><div class="ttdeci">meshx_err_t</div><div class="ttdoc">MeshX Error Codes.</div><div class="ttdef"><b>Definition</b> meshx_err.h:39</div></div>
<div class="ttc" id="ameshx__err_8h_html_a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b"><div class="ttname"><a href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a></div><div class="ttdeci">@ MESHX_SUCCESS</div><div class="ttdef"><b>Definition</b> meshx_err.h:40</div></div>
<div class="ttc" id="aunit__test_8c_html_a0a94d2d1ac1c4f3f4744437b65cca426"><div class="ttname"><a href="../../da/dd5/unit__test_8c.html#a0a94d2d1ac1c4f3f4744437b65cca426">register_ut_command</a></div><div class="ttdeci">meshx_err_t register_ut_command()</div><div class="ttdoc">Registers the unit test (ut) command with the ESP console.</div><div class="ttdef"><b>Definition</b> unit_test.c:81</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a763886d5c865bfc15d5693604c5f5923" name="a763886d5c865bfc15d5693604c5f5923"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a763886d5c865bfc15d5693604c5f5923">&#9670;&#160;</a></span>register_unit_test()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> register_unit_test </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedc">module_id_t</a></td>          <td class="paramname"><span class="paramname"><em>module_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a3e08a6c66b2c70772a07ceee9ded1ef6">module_callback_t</a></td>          <td class="paramname"><span class="paramname"><em>callback</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a unit test for a specific module. </p>
<p>This function registers a unit test callback for the given module ID.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">module_id</td><td>The ID of the module for which the unit test is being registered. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>The callback function to be called for the unit test.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>MESHX_SUCCESS: Success</li>
<li>MESHX_INVALID_ARG: Invalid arguments</li>
<li>MESHX_FAIL: Failed to register the unit test </li>
</ul>
</dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  149</span>                                                                                  {</div>
<div class="line"><span class="lineno">  150</span>    <span class="keywordflow">if</span>(module_id &gt;= <a class="code hl_enumvalue" href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedca0bca37d26c7c9e2acb8232315686be7d">MODULE_ID_MAX</a>)</div>
<div class="line"><span class="lineno">  151</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e">MESHX_INVALID_ARG</a>;</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>    <a class="code hl_variable" href="../../da/dd5/unit__test_8c.html#aabe4dd902ed5f2c6e9f66eece82f14c2">callback_list</a>[module_id].callback = callback;</div>
<div class="line"><span class="lineno">  154</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  155</span>}</div>
<div class="ttc" id="ameshx__err_8h_html_a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e"><div class="ttname"><a href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e">MESHX_INVALID_ARG</a></div><div class="ttdeci">@ MESHX_INVALID_ARG</div><div class="ttdef"><b>Definition</b> meshx_err.h:42</div></div>
<div class="ttc" id="amodule__id_8h_html_ac6141ce7b2d1d07b28553017c6a3aedca0bca37d26c7c9e2acb8232315686be7d"><div class="ttname"><a href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedca0bca37d26c7c9e2acb8232315686be7d">MODULE_ID_MAX</a></div><div class="ttdeci">@ MODULE_ID_MAX</div><div class="ttdef"><b>Definition</b> module_id.h:34</div></div>
<div class="ttc" id="aunit__test_8c_html_aabe4dd902ed5f2c6e9f66eece82f14c2"><div class="ttname"><a href="../../da/dd5/unit__test_8c.html#aabe4dd902ed5f2c6e9f66eece82f14c2">callback_list</a></div><div class="ttdeci">static unit_test_callback_t callback_list[MODULE_ID_MAX]</div><div class="ttdef"><b>Definition</b> unit_test.c:20</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a94d2d1ac1c4f3f4744437b65cca426" name="a0a94d2d1ac1c4f3f4744437b65cca426"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a94d2d1ac1c4f3f4744437b65cca426">&#9670;&#160;</a></span>register_ut_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> register_ut_command </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers the unit test (ut) command with the ESP console. </p>
<p>This function creates a new console command "ut" which is used for running unit tests. The command is registered with the ESP console using the esp_console_cmd_register function.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>MESHX_SUCCESS: Success</li>
<li>Other error codes: Failure </li>
</ul>
</dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   81</span>                                  {</div>
<div class="line"><span class="lineno">   82</span>    <span class="keyword">const</span> esp_console_cmd_t cmd = {</div>
<div class="line"><span class="lineno">   83</span>        .command = <span class="stringliteral">&quot;ut&quot;</span>,</div>
<div class="line"><span class="lineno">   84</span>        .help = <span class="stringliteral">&quot;Run unit tests&quot;</span>,</div>
<div class="line"><span class="lineno">   85</span>        .hint = NULL,</div>
<div class="line"><span class="lineno">   86</span>        .func = (esp_console_cmd_func_t)&amp;<a class="code hl_function" href="../../da/dd5/unit__test_8c.html#a07a836ad567a565fe2ff8648d168742d">ut_command_handler</a>,</div>
<div class="line"><span class="lineno">   87</span>    };</div>
<div class="line"><span class="lineno">   88</span>    <span class="keywordflow">return</span> esp_console_cmd_register(&amp;cmd);</div>
<div class="line"><span class="lineno">   89</span>}</div>
<div class="ttc" id="aunit__test_8c_html_a07a836ad567a565fe2ff8648d168742d"><div class="ttname"><a href="../../da/dd5/unit__test_8c.html#a07a836ad567a565fe2ff8648d168742d">ut_command_handler</a></div><div class="ttdeci">static meshx_err_t ut_command_handler(int argc, char **argv)</div><div class="ttdoc">Handles unit test commands by invoking the appropriate callback based on the module ID.</div><div class="ttdef"><b>Definition</b> unit_test.c:36</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 30 2025 16:11:42 for MeshX by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
