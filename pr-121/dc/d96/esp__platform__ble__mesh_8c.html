<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MeshX: esp_platform_ble_mesh.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MeshX<span id="projectnumber">&#160;0.4</span>
   </div>
   <div id="projectbrief">This repository provides an implementation for Bluetooth Low Energy (BLE) Mesh network nodes. The project allows you to create BLE mesh nodes that can communicate with each other, enabling the development of smart home solutions or other IoT-based applications.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_651562d8bf6cfd3e81eff5b570d7df50.html">port</a></li><li class="navelem"><a class="el" href="../../dir_385fe5669788853ce72f948ad62511ba.html">platform</a></li><li class="navelem"><a class="el" href="../../dir_26f05b192eb828a4470c1bae283fce21.html">esp</a></li><li class="navelem"><a class="el" href="../../dir_b3b9a9973f45f7505a6381d14c2228b7.html">esp_idf</a></li><li class="navelem"><a class="el" href="../../dir_928d23c13d4f3b9c21eadf6554637d06.html">ble_mesh</a></li><li class="navelem"><a class="el" href="../../dir_70bdce58bf6b565962664df5772048ca.html">common</a></li><li class="navelem"><a class="el" href="../../dir_dc99c03f06dfa2a41a722149d6b25635.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">esp_platform_ble_mesh.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This file contains platform-specific implementations for BLE Mesh functionality on the ESP32 using the MeshX framework. It provides APIs for managing BLE Mesh models, compositions, provisioning, and initialization.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;string.h&quot;</code><br />
<code>#include &quot;esp_bt_device.h&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/db9/ble__mesh__plat__init_8h_source.html">ble_mesh_plat_init.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d96/meshx__platform_8h_source.html">interface/meshx_platform.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d7/dcb/meshx__log_8h_source.html">interface/logging/meshx_log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/d1d/meshx__ble__mesh__cmn_8h_source.html">interface/ble_mesh/meshx_ble_mesh_cmn.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/de9/meshx__ble__mesh__prov__srv_8h_source.html">interface/ble_mesh/server/meshx_ble_mesh_prov_srv.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab3ea84732bbdc4a0b8d742aa4f66be09" id="r_ab3ea84732bbdc4a0b8d742aa4f66be09"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab3ea84732bbdc4a0b8d742aa4f66be09">meshx_is_group_subscribed</a> (<a class="el" href="../../d6/d1d/meshx__ble__mesh__cmn_8h.html#ae2bb37b6b888ca21c50c93294c099237">meshx_model_t</a> *p_model, uint16_t addr)</td></tr>
<tr class="memdesc:ab3ea84732bbdc4a0b8d742aa4f66be09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a model is subscribed to a specific group address.  <br /></td></tr>
<tr class="separator:ab3ea84732bbdc4a0b8d742aa4f66be09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12b595bcf51021fcaa675e488fe24308" id="r_a12b595bcf51021fcaa675e488fe24308"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a12b595bcf51021fcaa675e488fe24308">meshx_plat_create_model_pub</a> (void **p_pub, uint16_t nmax)</td></tr>
<tr class="memdesc:a12b595bcf51021fcaa675e488fe24308"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and initializes model and publication structures.  <br /></td></tr>
<tr class="separator:a12b595bcf51021fcaa675e488fe24308"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af87fda327ffe07a7c29d0f01b3d84a57" id="r_af87fda327ffe07a7c29d0f01b3d84a57"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af87fda327ffe07a7c29d0f01b3d84a57">meshx_plat_del_model_pub</a> (void **p_pub)</td></tr>
<tr class="memdesc:af87fda327ffe07a7c29d0f01b3d84a57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the model and publication objects.  <br /></td></tr>
<tr class="separator:af87fda327ffe07a7c29d0f01b3d84a57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ca652876b7a2a27e33fb56428a553f9" id="r_a4ca652876b7a2a27e33fb56428a553f9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4ca652876b7a2a27e33fb56428a553f9">meshx_plat_client_create</a> (<a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a> p_model, <a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a> *p_pub, <a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a> *p_cli, uint16_t model_id)</td></tr>
<tr class="memdesc:a4ca652876b7a2a27e33fb56428a553f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and initializes a generic client model for BLE Mesh.  <br /></td></tr>
<tr class="separator:a4ca652876b7a2a27e33fb56428a553f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bd27df5bc9007b3f538028cd494006c" id="r_a0bd27df5bc9007b3f538028cd494006c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0bd27df5bc9007b3f538028cd494006c">meshx_plat_client_delete</a> (<a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a> p_model, <a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a> *p_pub, <a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a> *p_cli)</td></tr>
<tr class="memdesc:a0bd27df5bc9007b3f538028cd494006c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes a generic client model from BLE Mesh.  <br /></td></tr>
<tr class="separator:a0bd27df5bc9007b3f538028cd494006c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0b270ac4d086a2e566985d2aabd5be5" id="r_ab0b270ac4d086a2e566985d2aabd5be5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab0b270ac4d086a2e566985d2aabd5be5">meshx_get_model_id</a> (<a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a> p_model, uint16_t *model_id)</td></tr>
<tr class="memdesc:ab0b270ac4d086a2e566985d2aabd5be5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the model ID of a generic server model.  <br /></td></tr>
<tr class="separator:ab0b270ac4d086a2e566985d2aabd5be5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36e3c206ee82075d0b1ec6729d186f71" id="r_a36e3c206ee82075d0b1ec6729d186f71"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a36e3c206ee82075d0b1ec6729d186f71">meshx_create_plat_composition</a> (<a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a> *p_comp)</td></tr>
<tr class="memdesc:a36e3c206ee82075d0b1ec6729d186f71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a platform-specific BLE Mesh composition object.  <br /></td></tr>
<tr class="separator:a36e3c206ee82075d0b1ec6729d186f71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bdab205d68a408e7ec03e58b2fa8a0b" id="r_a2bdab205d68a408e7ec03e58b2fa8a0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2bdab205d68a408e7ec03e58b2fa8a0b">meshx_plat_add_element_to_composition</a> (uint16_t index, <a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a> p_element_list, <a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a> p_sig_models, <a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a> p_ven_models, uint8_t sig_cnt, uint8_t ven_cnt)</td></tr>
<tr class="memdesc:a2bdab205d68a408e7ec03e58b2fa8a0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds an element to the BLE Mesh composition.  <br /></td></tr>
<tr class="separator:a2bdab205d68a408e7ec03e58b2fa8a0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9136f58e68ca58a169038fb9e5fd5c66" id="r_a9136f58e68ca58a169038fb9e5fd5c66"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9136f58e68ca58a169038fb9e5fd5c66">meshx_plat_composition_init</a> (<a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a> p_composition, <a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a> p_elements, uint16_t cid, uint16_t pid, uint16_t element_idx)</td></tr>
<tr class="memdesc:a9136f58e68ca58a169038fb9e5fd5c66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a platform-specific BLE Mesh composition.  <br /></td></tr>
<tr class="separator:a9136f58e68ca58a169038fb9e5fd5c66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed72eaf1b8f7fd7bf64c962bb028a31e" id="r_aed72eaf1b8f7fd7bf64c962bb028a31e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aed72eaf1b8f7fd7bf64c962bb028a31e">meshx_get_base_element_id</a> (uint16_t *base_el_id)</td></tr>
<tr class="memdesc:aed72eaf1b8f7fd7bf64c962bb028a31e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the base element ID for the BLE Mesh platform.  <br /></td></tr>
<tr class="separator:aed72eaf1b8f7fd7bf64c962bb028a31e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63a879267392250798cb2ee7caabf1a9" id="r_a63a879267392250798cb2ee7caabf1a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a63a879267392250798cb2ee7caabf1a9">meshx_platform_bt_init</a> (<a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a53a91bb52f6febc096210c466b18c94a">meshx_uuid_addr_t</a> uuid)</td></tr>
<tr class="memdesc:a63a879267392250798cb2ee7caabf1a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the Bluetooth subsystem of the MeshX platform.  <br /></td></tr>
<tr class="separator:a63a879267392250798cb2ee7caabf1a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb1dfab0e0872cf301f64153754e2a15" id="r_afb1dfab0e0872cf301f64153754e2a15"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afb1dfab0e0872cf301f64153754e2a15">meshx_plat_ble_mesh_init</a> (const <a class="el" href="../../d6/d1d/meshx__ble__mesh__cmn_8h.html#abdcd86deab2201c2f312a7e7432eae4f">meshx_prov_params_t</a> *prov_cfg, <a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a> comp)</td></tr>
<tr class="memdesc:afb1dfab0e0872cf301f64153754e2a15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the BLE Mesh stack with the given provisioning parameters.  <br /></td></tr>
<tr class="separator:afb1dfab0e0872cf301f64153754e2a15"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains platform-specific implementations for BLE Mesh functionality on the ESP32 using the MeshX framework. It provides APIs for managing BLE Mesh models, compositions, provisioning, and initialization. </p>
<p>Copyright (c) 2024 - 2025 MeshX</p>
<p>The functions in this file handle tasks such as checking group subscriptions, creating and deleting model publications, managing model IDs, initializing compositions, and setting up BLE Mesh provisioning and node configurations.</p>
<dl class="section author"><dt>Author</dt><dd>Pranjal Chanda </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a36e3c206ee82075d0b1ec6729d186f71" name="a36e3c206ee82075d0b1ec6729d186f71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36e3c206ee82075d0b1ec6729d186f71">&#9670;&#160;</a></span>meshx_create_plat_composition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_create_plat_composition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a> *</td>          <td class="paramname"><span class="paramname"><em>p_comp</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a platform-specific BLE Mesh composition object. </p>
<p>This function allocates memory for a MESHX_COMPOSITION object and assigns its pointer to the provided pointer argument. It checks for invalid arguments and memory allocation failures, returning appropriate error codes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">p_comp</td><td>Pointer to the location where the composition object pointer will be stored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MESHX_SUCCESS on successful creation, MESHX_INVALID_ARG if the provided pointer is NULL, or MESHX_NO_MEM if memory allocation fails. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  119</span>{</div>
<div class="line"><span class="lineno">  120</span>    <span class="keywordflow">if</span>(!p_comp)</div>
<div class="line"><span class="lineno">  121</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e">MESHX_INVALID_ARG</a>;</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>    *p_comp = (<a class="code hl_define" href="../../d3/d2b/meshx__platform__ble__mesh_8h.html#a82a05f1bae7f3ac89c3d82651ad10382">MESHX_COMPOSITION</a> *) <a class="code hl_define" href="../../da/d68/meshx__err_8h.html#ad0912ccd019463591174e0fa3516e236">MESHX_MALLOC</a> (<span class="keyword">sizeof</span>(<a class="code hl_define" href="../../d3/d2b/meshx__platform__ble__mesh_8h.html#a82a05f1bae7f3ac89c3d82651ad10382">MESHX_COMPOSITION</a>));</div>
<div class="line"><span class="lineno">  124</span>    <span class="keywordflow">if</span>(!*p_comp)</div>
<div class="line"><span class="lineno">  125</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6ad805de8202860d5657dc396e4b00aefe">MESHX_NO_MEM</a>;</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  128</span>}</div>
<div class="ttc" id="ameshx__err_8h_html_a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b"><div class="ttname"><a href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a></div><div class="ttdeci">@ MESHX_SUCCESS</div><div class="ttdef"><b>Definition</b> meshx_err.h:40</div></div>
<div class="ttc" id="ameshx__err_8h_html_a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e"><div class="ttname"><a href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e">MESHX_INVALID_ARG</a></div><div class="ttdeci">@ MESHX_INVALID_ARG</div><div class="ttdef"><b>Definition</b> meshx_err.h:42</div></div>
<div class="ttc" id="ameshx__err_8h_html_a6f984f69fa8d0240992b3a1e78bd42f6ad805de8202860d5657dc396e4b00aefe"><div class="ttname"><a href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6ad805de8202860d5657dc396e4b00aefe">MESHX_NO_MEM</a></div><div class="ttdeci">@ MESHX_NO_MEM</div><div class="ttdef"><b>Definition</b> meshx_err.h:44</div></div>
<div class="ttc" id="ameshx__err_8h_html_ad0912ccd019463591174e0fa3516e236"><div class="ttname"><a href="../../da/d68/meshx__err_8h.html#ad0912ccd019463591174e0fa3516e236">MESHX_MALLOC</a></div><div class="ttdeci">#define MESHX_MALLOC</div><div class="ttdef"><b>Definition</b> meshx_err.h:24</div></div>
<div class="ttc" id="ameshx__platform__ble__mesh_8h_html_a82a05f1bae7f3ac89c3d82651ad10382"><div class="ttname"><a href="../../d3/d2b/meshx__platform__ble__mesh_8h.html#a82a05f1bae7f3ac89c3d82651ad10382">MESHX_COMPOSITION</a></div><div class="ttdeci">#define MESHX_COMPOSITION</div><div class="ttdef"><b>Definition</b> meshx_platform_ble_mesh.h:32</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aed72eaf1b8f7fd7bf64c962bb028a31e" name="aed72eaf1b8f7fd7bf64c962bb028a31e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed72eaf1b8f7fd7bf64c962bb028a31e">&#9670;&#160;</a></span>meshx_get_base_element_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_get_base_element_id </td>
          <td>(</td>
          <td class="paramtype">uint16_t *</td>          <td class="paramname"><span class="paramname"><em>base_el_id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the base element ID for the BLE Mesh platform. </p>
<p>This function fetches the base element ID, which is used as a reference point for other elements in the BLE Mesh composition.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">base_el_id</td><td>Pointer to a variable where the base element ID will be stored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6" title="MeshX Error Codes.">meshx_err_t</a> Returns MESHX_SUCCESS on success, or an appropriate error code on failure. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  173</span>{</div>
<div class="line"><span class="lineno">  174</span>    <span class="keywordflow">if</span> (!base_el_id)</div>
<div class="line"><span class="lineno">  175</span>    {</div>
<div class="line"><span class="lineno">  176</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e">MESHX_INVALID_ARG</a>;</div>
<div class="line"><span class="lineno">  177</span>    }</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>    *base_el_id = esp_ble_mesh_get_primary_element_address();</div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  182</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab0b270ac4d086a2e566985d2aabd5be5" name="ab0b270ac4d086a2e566985d2aabd5be5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0b270ac4d086a2e566985d2aabd5be5">&#9670;&#160;</a></span>meshx_get_model_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_get_model_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a></td>          <td class="paramname"><span class="paramname"><em>p_model</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *</td>          <td class="paramname"><span class="paramname"><em>model_id</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the model ID of a generic server model. </p>
<p>This function obtains the model ID associated with a specified generic server model.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_model</td><td>Pointer to the model whose ID is to be retrieved. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">model_id</td><td>Pointer to a variable where the retrieved model ID will be stored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MESHX_SUCCESS on success, or an appropriate error code on failure. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  108</span>{</div>
<div class="line"><span class="lineno">  109</span>    <span class="keywordflow">if</span>(!p_model)</div>
<div class="line"><span class="lineno">  110</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e">MESHX_INVALID_ARG</a>;</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>    <a class="code hl_define" href="../../d3/d2b/meshx__platform__ble__mesh_8h.html#ab8c86cf2f5e47acb374476edda8b5b7c">MESHX_MODEL</a> * model = (<a class="code hl_define" href="../../d3/d2b/meshx__platform__ble__mesh_8h.html#ab8c86cf2f5e47acb374476edda8b5b7c">MESHX_MODEL</a> *)p_model;</div>
<div class="line"><span class="lineno">  113</span>    *model_id = model-&gt;model_id;</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  116</span>}</div>
<div class="ttc" id="ameshx__platform__ble__mesh_8h_html_ab8c86cf2f5e47acb374476edda8b5b7c"><div class="ttname"><a href="../../d3/d2b/meshx__platform__ble__mesh_8h.html#ab8c86cf2f5e47acb374476edda8b5b7c">MESHX_MODEL</a></div><div class="ttdeci">#define MESHX_MODEL</div><div class="ttdef"><b>Definition</b> meshx_platform_ble_mesh.h:34</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab3ea84732bbdc4a0b8d742aa4f66be09" name="ab3ea84732bbdc4a0b8d742aa4f66be09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3ea84732bbdc4a0b8d742aa4f66be09">&#9670;&#160;</a></span>meshx_is_group_subscribed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_is_group_subscribed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d1d/meshx__ble__mesh__cmn_8h.html#ae2bb37b6b888ca21c50c93294c099237">meshx_model_t</a> *</td>          <td class="paramname"><span class="paramname"><em>p_model</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if a model is subscribed to a specific group address. </p>
<p>This function determines whether the specified BLE Mesh model is subscribed to a given group address by utilizing the internal function esp_ble_mesh_is_model_subscribed_to_group.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_model</td><td>Pointer to the BLE Mesh model structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>The group address to check for subscription.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MESHX_SUCCESS if the model is subscribed to the group address, otherwise MESHX_FAIL. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   25</span>{</div>
<div class="line"><span class="lineno">   26</span>    <span class="keyword">const</span> uint16_t * res = esp_ble_mesh_is_model_subscribed_to_group(p_model-&gt;<a class="code hl_variable" href="../../d7/df1/structmeshx__model.html#a93aa811e6fc21f6848bacf62853edab7">p_model</a>, addr);</div>
<div class="line"><span class="lineno">   27</span>    <span class="keywordflow">if</span>(res != NULL)</div>
<div class="line"><span class="lineno">   28</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">   29</span> </div>
<div class="line"><span class="lineno">   30</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a4d423ab700ffdf5440a1f0579beba8af">MESHX_FAIL</a>;</div>
<div class="line"><span class="lineno">   31</span>}</div>
<div class="ttc" id="ameshx__err_8h_html_a6f984f69fa8d0240992b3a1e78bd42f6a4d423ab700ffdf5440a1f0579beba8af"><div class="ttname"><a href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a4d423ab700ffdf5440a1f0579beba8af">MESHX_FAIL</a></div><div class="ttdeci">@ MESHX_FAIL</div><div class="ttdef"><b>Definition</b> meshx_err.h:41</div></div>
<div class="ttc" id="astructmeshx__model_html_a93aa811e6fc21f6848bacf62853edab7"><div class="ttname"><a href="../../d7/df1/structmeshx__model.html#a93aa811e6fc21f6848bacf62853edab7">meshx_model::p_model</a></div><div class="ttdeci">meshx_ptr_t p_model</div><div class="ttdef"><b>Definition</b> meshx_ble_mesh_cmn.h:35</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2bdab205d68a408e7ec03e58b2fa8a0b" name="a2bdab205d68a408e7ec03e58b2fa8a0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bdab205d68a408e7ec03e58b2fa8a0b">&#9670;&#160;</a></span>meshx_plat_add_element_to_composition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_plat_add_element_to_composition </td>
          <td>(</td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a></td>          <td class="paramname"><span class="paramname"><em>p_element_list</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a></td>          <td class="paramname"><span class="paramname"><em>p_sig_models</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a></td>          <td class="paramname"><span class="paramname"><em>p_ven_models</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>sig_cnt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ven_cnt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds an element to the BLE Mesh composition. </p>
<p>This function adds a new element to the BLE Mesh composition at the specified index. It assigns the provided SIG and vendor models to the element and sets their respective counts.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Index at which the element is to be added. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">p_element_list</td><td>Pointer to the list of elements. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_sig_models</td><td>Pointer to the SIG models to be assigned to the element. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_ven_models</td><td>Pointer to the vendor models to be assigned to the element. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sig_cnt</td><td>Number of SIG models. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ven_cnt</td><td>Number of vendor models.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MESHX_SUCCESS on success, or MESHX_INVALID_ARG if the element list pointer is NULL. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  137</span>  {</div>
<div class="line"><span class="lineno">  138</span>    <span class="keywordflow">if</span> (!p_element_list) {</div>
<div class="line"><span class="lineno">  139</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e">MESHX_INVALID_ARG</a>;</div>
<div class="line"><span class="lineno">  140</span>    }</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>    <a class="code hl_define" href="../../d3/d2b/meshx__platform__ble__mesh_8h.html#aecfa46bbd0355df26660c0d118c68358">MESHX_ELEMENT</a>* element = (<a class="code hl_define" href="../../d3/d2b/meshx__platform__ble__mesh_8h.html#aecfa46bbd0355df26660c0d118c68358">MESHX_ELEMENT</a>*)(p_element_list) + index;</div>
<div class="line"><span class="lineno">  143</span>    element-&gt;sig_models = p_sig_models;</div>
<div class="line"><span class="lineno">  144</span>    element-&gt;vnd_models = p_ven_models;</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>    memcpy((<a class="code hl_typedef" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a>)&amp;(element-&gt;sig_model_count), &amp;sig_cnt, <span class="keyword">sizeof</span>(uint8_t));</div>
<div class="line"><span class="lineno">  147</span>    memcpy((<a class="code hl_typedef" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a>)&amp;(element-&gt;vnd_model_count), &amp;ven_cnt, <span class="keyword">sizeof</span>(uint8_t));</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  150</span>}</div>
<div class="ttc" id="ameshx__ble__mesh__cmn__def_8h_html_a3bae9ce6d9b944b93bb8a0b64e758d19"><div class="ttname"><a href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a></div><div class="ttdeci">void * meshx_ptr_t</div><div class="ttdef"><b>Definition</b> meshx_ble_mesh_cmn_def.h:631</div></div>
<div class="ttc" id="ameshx__platform__ble__mesh_8h_html_aecfa46bbd0355df26660c0d118c68358"><div class="ttname"><a href="../../d3/d2b/meshx__platform__ble__mesh_8h.html#aecfa46bbd0355df26660c0d118c68358">MESHX_ELEMENT</a></div><div class="ttdeci">#define MESHX_ELEMENT</div><div class="ttdef"><b>Definition</b> meshx_platform_ble_mesh.h:33</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afb1dfab0e0872cf301f64153754e2a15" name="afb1dfab0e0872cf301f64153754e2a15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb1dfab0e0872cf301f64153754e2a15">&#9670;&#160;</a></span>meshx_plat_ble_mesh_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_plat_ble_mesh_init </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/d1d/meshx__ble__mesh__cmn_8h.html#abdcd86deab2201c2f312a7e7432eae4f">meshx_prov_params_t</a> *</td>          <td class="paramname"><span class="paramname"><em>prov_cfg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a></td>          <td class="paramname"><span class="paramname"><em>comp</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the BLE Mesh stack with the given provisioning parameters. </p>
<p>This function sets up the BLE Mesh stack and initializes it with the provided provisioning parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">prov_cfg</td><td>Pointer to the provisioning parameters structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">comp</td><td>Pointer to the composition data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6" title="MeshX Error Codes.">meshx_err_t</a> Returns MESHX_OK on success, or an appropriate error code. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  213</span>{</div>
<div class="line"><span class="lineno">  214</span>    <span class="keywordflow">if</span>(comp == NULL || prov_cfg == NULL)</div>
<div class="line"><span class="lineno">  215</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e">MESHX_INVALID_ARG</a>;</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>    <a class="code hl_enumeration" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> err = <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  218</span> </div>
<div class="line"><span class="lineno">  219</span>    <span class="comment">/* Initialize BLE Mesh Provisioner */</span></div>
<div class="line"><span class="lineno">  220</span>    <a class="code hl_define" href="../../d3/d2b/meshx__platform__ble__mesh_8h.html#a7c53320caed399e04974f76c132f75b5">MESHX_PROV</a> *p_prov = NULL;</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>    p_prov = (<a class="code hl_define" href="../../d3/d2b/meshx__platform__ble__mesh_8h.html#a7c53320caed399e04974f76c132f75b5">MESHX_PROV</a> *)<a class="code hl_function" href="../../d4/de9/meshx__ble__mesh__prov__srv_8h.html#abae1983bb7292ae3f77ebeb5276c2344">meshx_plat_get_prov</a>();</div>
<div class="line"><span class="lineno">  223</span>    <span class="keywordflow">if</span>(p_prov == NULL)</div>
<div class="line"><span class="lineno">  224</span>    {</div>
<div class="line"><span class="lineno">  225</span>        <a class="code hl_define" href="../../d7/dcb/meshx__log_8h.html#a56673888067cbe14c7a33b0856f46eb8">MESHX_LOGE</a>(<a class="code hl_enumvalue" href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedcae99b3f7b220d81ae4efb1b11bc390689">MODULE_ID_MODEL_SERVER</a>, <span class="stringliteral">&quot;Failed to get provisioning instance&quot;</span>);</div>
<div class="line"><span class="lineno">  226</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a6c085ef760a07c6f5b9422e1590fde8d">MESHX_ERR_PLAT</a>;</div>
<div class="line"><span class="lineno">  227</span>    }</div>
<div class="line"><span class="lineno">  228</span>    err = esp_ble_mesh_init(p_prov, comp);</div>
<div class="line"><span class="lineno">  229</span>    <span class="keywordflow">if</span>(err)</div>
<div class="line"><span class="lineno">  230</span>    {</div>
<div class="line"><span class="lineno">  231</span>        <a class="code hl_define" href="../../d7/dcb/meshx__log_8h.html#a56673888067cbe14c7a33b0856f46eb8">MESHX_LOGE</a>(<a class="code hl_enumvalue" href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedcae99b3f7b220d81ae4efb1b11bc390689">MODULE_ID_MODEL_SERVER</a>, <span class="stringliteral">&quot;Failed to initialize mesh stack&quot;</span>);</div>
<div class="line"><span class="lineno">  232</span>        <span class="keywordflow">return</span> err;</div>
<div class="line"><span class="lineno">  233</span>    }</div>
<div class="line"><span class="lineno">  234</span>    err = esp_ble_mesh_set_unprovisioned_device_name((<span class="keywordtype">char</span>*)prov_cfg-&gt;<a class="code hl_variable" href="../../da/dd1/structmeshx__prov__params.html#a9b7bfe860b26138dfb10ce985ba58e60">node_name</a>);</div>
<div class="line"><span class="lineno">  235</span>    <span class="keywordflow">if</span>(err)</div>
<div class="line"><span class="lineno">  236</span>    {</div>
<div class="line"><span class="lineno">  237</span>        <a class="code hl_define" href="../../d7/dcb/meshx__log_8h.html#a56673888067cbe14c7a33b0856f46eb8">MESHX_LOGE</a>(<a class="code hl_enumvalue" href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedcae99b3f7b220d81ae4efb1b11bc390689">MODULE_ID_MODEL_SERVER</a>, <span class="stringliteral">&quot;Failed to set device name&quot;</span>);</div>
<div class="line"><span class="lineno">  238</span>        <span class="keywordflow">return</span> err;</div>
<div class="line"><span class="lineno">  239</span>    }</div>
<div class="line"><span class="lineno">  240</span>    err = esp_ble_mesh_node_prov_enable((esp_ble_mesh_prov_bearer_t)(ESP_BLE_MESH_PROV_ADV | ESP_BLE_MESH_PROV_GATT));</div>
<div class="line"><span class="lineno">  241</span>    <span class="keywordflow">if</span>(err)</div>
<div class="line"><span class="lineno">  242</span>    {</div>
<div class="line"><span class="lineno">  243</span>        <a class="code hl_define" href="../../d7/dcb/meshx__log_8h.html#a56673888067cbe14c7a33b0856f46eb8">MESHX_LOGE</a>(<a class="code hl_enumvalue" href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedcae99b3f7b220d81ae4efb1b11bc390689">MODULE_ID_MODEL_SERVER</a>, <span class="stringliteral">&quot;Failed to enable mesh node&quot;</span>);</div>
<div class="line"><span class="lineno">  244</span>        <span class="keywordflow">return</span> err;</div>
<div class="line"><span class="lineno">  245</span>    }</div>
<div class="line"><span class="lineno">  246</span>    <a class="code hl_define" href="../../d7/dcb/meshx__log_8h.html#acb76057f2c8e23ca61edf04fd824818b">MESHX_LOGD</a>(<a class="code hl_enumvalue" href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedcae99b3f7b220d81ae4efb1b11bc390689">MODULE_ID_MODEL_SERVER</a>, <span class="stringliteral">&quot;BLE Mesh Node initialized&quot;</span>);</div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  248</span>}</div>
<div class="ttc" id="ameshx__ble__mesh__prov__srv_8h_html_abae1983bb7292ae3f77ebeb5276c2344"><div class="ttname"><a href="../../d4/de9/meshx__ble__mesh__prov__srv_8h.html#abae1983bb7292ae3f77ebeb5276c2344">meshx_plat_get_prov</a></div><div class="ttdeci">meshx_ptr_t meshx_plat_get_prov(void)</div><div class="ttdoc">Get the provisioning parameters.</div><div class="ttdef"><b>Definition</b> esp_prov_srv_model.c:78</div></div>
<div class="ttc" id="ameshx__err_8h_html_a6f984f69fa8d0240992b3a1e78bd42f6"><div class="ttname"><a href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a></div><div class="ttdeci">meshx_err_t</div><div class="ttdoc">MeshX Error Codes.</div><div class="ttdef"><b>Definition</b> meshx_err.h:39</div></div>
<div class="ttc" id="ameshx__err_8h_html_a6f984f69fa8d0240992b3a1e78bd42f6a6c085ef760a07c6f5b9422e1590fde8d"><div class="ttname"><a href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a6c085ef760a07c6f5b9422e1590fde8d">MESHX_ERR_PLAT</a></div><div class="ttdeci">@ MESHX_ERR_PLAT</div><div class="ttdef"><b>Definition</b> meshx_err.h:43</div></div>
<div class="ttc" id="ameshx__log_8h_html_a56673888067cbe14c7a33b0856f46eb8"><div class="ttname"><a href="../../d7/dcb/meshx__log_8h.html#a56673888067cbe14c7a33b0856f46eb8">MESHX_LOGE</a></div><div class="ttdeci">#define MESHX_LOGE(module_id, format,...)</div><div class="ttdef"><b>Definition</b> meshx_log.h:67</div></div>
<div class="ttc" id="ameshx__log_8h_html_acb76057f2c8e23ca61edf04fd824818b"><div class="ttname"><a href="../../d7/dcb/meshx__log_8h.html#acb76057f2c8e23ca61edf04fd824818b">MESHX_LOGD</a></div><div class="ttdeci">#define MESHX_LOGD(module_id, format,...)</div><div class="ttdef"><b>Definition</b> meshx_log.h:113</div></div>
<div class="ttc" id="ameshx__platform__ble__mesh_8h_html_a7c53320caed399e04974f76c132f75b5"><div class="ttname"><a href="../../d3/d2b/meshx__platform__ble__mesh_8h.html#a7c53320caed399e04974f76c132f75b5">MESHX_PROV</a></div><div class="ttdeci">#define MESHX_PROV</div><div class="ttdef"><b>Definition</b> meshx_platform_ble_mesh.h:41</div></div>
<div class="ttc" id="amodule__id_8h_html_ac6141ce7b2d1d07b28553017c6a3aedcae99b3f7b220d81ae4efb1b11bc390689"><div class="ttname"><a href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedcae99b3f7b220d81ae4efb1b11bc390689">MODULE_ID_MODEL_SERVER</a></div><div class="ttdeci">@ MODULE_ID_MODEL_SERVER</div><div class="ttdef"><b>Definition</b> module_id.h:30</div></div>
<div class="ttc" id="astructmeshx__prov__params_html_a9b7bfe860b26138dfb10ce985ba58e60"><div class="ttname"><a href="../../da/dd1/structmeshx__prov__params.html#a9b7bfe860b26138dfb10ce985ba58e60">meshx_prov_params::node_name</a></div><div class="ttdeci">uint8_t * node_name</div><div class="ttdef"><b>Definition</b> meshx_ble_mesh_cmn.h:57</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4ca652876b7a2a27e33fb56428a553f9" name="a4ca652876b7a2a27e33fb56428a553f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ca652876b7a2a27e33fb56428a553f9">&#9670;&#160;</a></span>meshx_plat_client_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_plat_client_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a></td>          <td class="paramname"><span class="paramname"><em>p_model</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a> *</td>          <td class="paramname"><span class="paramname"><em>p_pub</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a> *</td>          <td class="paramname"><span class="paramname"><em>p_cli</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>model_id</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates and initializes a generic client model for BLE Mesh. </p>
<p>This function sets up the necessary structures and resources for a generic client model in the BLE Mesh stack. It initializes the model, publication context, and the on/off client instance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_model</td><td>Pointer to the model structure to be initialized. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">p_pub</td><td>Pointer to a location where the address of the publication context will be stored. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">p_cli</td><td>Pointer to a location where the address of the on/off client instance will be stored. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">model_id</td><td>Model ID for the generic client model.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6" title="MeshX Error Codes.">meshx_err_t</a> Returns an error code indicating the result of the operation. Typically, MESHX_OK on success or an appropriate error code on failure. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   58</span>{</div>
<div class="line"><span class="lineno">   59</span>    <span class="keywordflow">if</span> (!p_model || !p_pub || !p_cli)</div>
<div class="line"><span class="lineno">   60</span>    {</div>
<div class="line"><span class="lineno">   61</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e">MESHX_INVALID_ARG</a>; <span class="comment">// Invalid arguments</span></div>
<div class="line"><span class="lineno">   62</span>    }</div>
<div class="line"><span class="lineno">   63</span>    <a class="code hl_enumeration" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> err = <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span>    <span class="comment">/* SIG On OFF Init */</span></div>
<div class="line"><span class="lineno">   66</span>    memcpy((<a class="code hl_typedef" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a>)&amp;(((<a class="code hl_define" href="../../d3/d2b/meshx__platform__ble__mesh_8h.html#ab8c86cf2f5e47acb374476edda8b5b7c">MESHX_MODEL</a> *)p_model)-&gt;model_id), &amp;model_id, <span class="keyword">sizeof</span>(model_id));</div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span>    <span class="comment">// Create the publication context for the model</span></div>
<div class="line"><span class="lineno">   69</span>    err = <a class="code hl_function" href="#a12b595bcf51021fcaa675e488fe24308">meshx_plat_create_model_pub</a>(p_pub, 1);</div>
<div class="line"><span class="lineno">   70</span>    <span class="keywordflow">if</span> (err)</div>
<div class="line"><span class="lineno">   71</span>    {</div>
<div class="line"><span class="lineno">   72</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#af87fda327ffe07a7c29d0f01b3d84a57">meshx_plat_del_model_pub</a>(p_pub); <span class="comment">// Clean up on error</span></div>
<div class="line"><span class="lineno">   73</span>    }</div>
<div class="line"><span class="lineno">   74</span> </div>
<div class="line"><span class="lineno">   75</span>    <span class="comment">// Allocate memory for the generic client model</span></div>
<div class="line"><span class="lineno">   76</span>    *p_cli = (<a class="code hl_define" href="../../d3/d2b/meshx__platform__ble__mesh_8h.html#adbe96b16fe2a2d9b4e8fd55b44c00688">MESHX_CLI</a> *)<a class="code hl_define" href="../../da/d68/meshx__err_8h.html#a1d35fd42fb3bbaaa86816df7b0263b50">MESHX_CALOC</a>(1, <span class="keyword">sizeof</span>(<a class="code hl_define" href="../../d3/d2b/meshx__platform__ble__mesh_8h.html#adbe96b16fe2a2d9b4e8fd55b44c00688">MESHX_CLI</a>));</div>
<div class="line"><span class="lineno">   77</span>    <span class="keywordflow">if</span> (!*p_cli)</div>
<div class="line"><span class="lineno">   78</span>    {</div>
<div class="line"><span class="lineno">   79</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6ad805de8202860d5657dc396e4b00aefe">MESHX_NO_MEM</a>; <span class="comment">// Memory allocation failed</span></div>
<div class="line"><span class="lineno">   80</span>    }</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>    <span class="comment">// Initialize the generic client model</span></div>
<div class="line"><span class="lineno">   83</span>    ((<a class="code hl_define" href="../../d3/d2b/meshx__platform__ble__mesh_8h.html#ab8c86cf2f5e47acb374476edda8b5b7c">MESHX_MODEL</a> *)p_model)-&gt;user_data = *p_cli;</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>    <a class="code hl_typedef" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a>*temp = (<a class="code hl_typedef" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a>*)&amp;((<a class="code hl_define" href="../../d3/d2b/meshx__platform__ble__mesh_8h.html#ab8c86cf2f5e47acb374476edda8b5b7c">MESHX_MODEL</a> *)p_model)-&gt;pub;</div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span>    *temp = *p_pub;</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>; <span class="comment">// Successfully created the model and publication context</span></div>
<div class="line"><span class="lineno">   90</span>}</div>
<div class="ttc" id="aesp__platform__ble__mesh_8c_html_a12b595bcf51021fcaa675e488fe24308"><div class="ttname"><a href="#a12b595bcf51021fcaa675e488fe24308">meshx_plat_create_model_pub</a></div><div class="ttdeci">meshx_err_t meshx_plat_create_model_pub(void **p_pub, uint16_t nmax)</div><div class="ttdoc">Creates and initializes model and publication structures.</div><div class="ttdef"><b>Definition</b> esp_platform_ble_mesh.c:32</div></div>
<div class="ttc" id="aesp__platform__ble__mesh_8c_html_af87fda327ffe07a7c29d0f01b3d84a57"><div class="ttname"><a href="#af87fda327ffe07a7c29d0f01b3d84a57">meshx_plat_del_model_pub</a></div><div class="ttdeci">meshx_err_t meshx_plat_del_model_pub(void **p_pub)</div><div class="ttdoc">Deletes the model and publication objects.</div><div class="ttdef"><b>Definition</b> esp_platform_ble_mesh.c:44</div></div>
<div class="ttc" id="ameshx__err_8h_html_a1d35fd42fb3bbaaa86816df7b0263b50"><div class="ttname"><a href="../../da/d68/meshx__err_8h.html#a1d35fd42fb3bbaaa86816df7b0263b50">MESHX_CALOC</a></div><div class="ttdeci">#define MESHX_CALOC</div><div class="ttdef"><b>Definition</b> meshx_err.h:28</div></div>
<div class="ttc" id="ameshx__platform__ble__mesh_8h_html_adbe96b16fe2a2d9b4e8fd55b44c00688"><div class="ttname"><a href="../../d3/d2b/meshx__platform__ble__mesh_8h.html#adbe96b16fe2a2d9b4e8fd55b44c00688">MESHX_CLI</a></div><div class="ttdeci">#define MESHX_CLI</div><div class="ttdef"><b>Definition</b> meshx_platform_ble_mesh.h:64</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0bd27df5bc9007b3f538028cd494006c" name="a0bd27df5bc9007b3f538028cd494006c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bd27df5bc9007b3f538028cd494006c">&#9670;&#160;</a></span>meshx_plat_client_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_plat_client_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a></td>          <td class="paramname"><span class="paramname"><em>p_model</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a> *</td>          <td class="paramname"><span class="paramname"><em>p_pub</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a> *</td>          <td class="paramname"><span class="paramname"><em>p_cli</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes a generic client model from BLE Mesh. </p>
<p>This function deletes a generic client model from the BLE Mesh stack, including the associated publication context and on/off client instance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_model</td><td>Pointer to the model structure to be deleted. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">p_pub</td><td>Pointer to a location where the address of the publication context will be stored. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">p_cli</td><td>Pointer to a location where the address of the on/off client instance will be stored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6" title="MeshX Error Codes.">meshx_err_t</a> Returns an error code indicating the result of the operation. Typically, MESHX_OK on success or an appropriate error code on failure. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   93</span>{</div>
<div class="line"><span class="lineno">   94</span>    <span class="keywordflow">if</span> (!p_model || !p_pub || !p_cli)</div>
<div class="line"><span class="lineno">   95</span>    {</div>
<div class="line"><span class="lineno">   96</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e">MESHX_INVALID_ARG</a>; <span class="comment">// Invalid arguments</span></div>
<div class="line"><span class="lineno">   97</span>    }</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>    <a class="code hl_function" href="#af87fda327ffe07a7c29d0f01b3d84a57">meshx_plat_del_model_pub</a>(p_pub);</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>    <a class="code hl_define" href="../../da/d68/meshx__err_8h.html#af8f58f6602b246397c882d9cddd9a334">MESHX_FREE</a>(*p_cli);</div>
<div class="line"><span class="lineno">  102</span>    *p_cli = NULL;</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  105</span>}</div>
<div class="ttc" id="ameshx__err_8h_html_af8f58f6602b246397c882d9cddd9a334"><div class="ttname"><a href="../../da/d68/meshx__err_8h.html#af8f58f6602b246397c882d9cddd9a334">MESHX_FREE</a></div><div class="ttdeci">#define MESHX_FREE</div><div class="ttdef"><b>Definition</b> meshx_err.h:32</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9136f58e68ca58a169038fb9e5fd5c66" name="a9136f58e68ca58a169038fb9e5fd5c66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9136f58e68ca58a169038fb9e5fd5c66">&#9670;&#160;</a></span>meshx_plat_composition_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_plat_composition_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a></td>          <td class="paramname"><span class="paramname"><em>p_composition</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a></td>          <td class="paramname"><span class="paramname"><em>p_elements</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>cid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>pid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>element_idx</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a platform-specific BLE Mesh composition. </p>
<p>This function sets up a BLE Mesh composition object with the specified company ID, product ID, and element index. It assigns the provided elements to the composition.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">p_composition</td><td>Pointer to the composition object to be initialized. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_elements</td><td>Pointer to the elements to be included in the composition. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cid</td><td>Company ID for the composition. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pid</td><td>Product ID for the composition. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">element_idx</td><td>Index of the element within the composition.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MESHX_SUCCESS on successful initialization, or an appropriate error code on failure. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  159</span>{</div>
<div class="line"><span class="lineno">  160</span>    <span class="keywordflow">if</span>(!p_composition)</div>
<div class="line"><span class="lineno">  161</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e">MESHX_INVALID_ARG</a>;</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>    <a class="code hl_define" href="../../d3/d2b/meshx__platform__ble__mesh_8h.html#a82a05f1bae7f3ac89c3d82651ad10382">MESHX_COMPOSITION</a> * composition = (<a class="code hl_define" href="../../d3/d2b/meshx__platform__ble__mesh_8h.html#a82a05f1bae7f3ac89c3d82651ad10382">MESHX_COMPOSITION</a> *) p_composition;</div>
<div class="line"><span class="lineno">  164</span>    composition-&gt;cid = cid;</div>
<div class="line"><span class="lineno">  165</span>    composition-&gt;pid = pid;</div>
<div class="line"><span class="lineno">  166</span>    composition-&gt;element_count = element_idx;</div>
<div class="line"><span class="lineno">  167</span>    composition-&gt;elements = p_elements;</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  170</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a12b595bcf51021fcaa675e488fe24308" name="a12b595bcf51021fcaa675e488fe24308"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12b595bcf51021fcaa675e488fe24308">&#9670;&#160;</a></span>meshx_plat_create_model_pub()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_plat_create_model_pub </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a> *</td>          <td class="paramname"><span class="paramname"><em>p_pub</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>nmax</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates and initializes model and publication structures. </p>
<p>This function allocates memory for model and publication structures based on the specified maximum number of elements. It initializes the provided pointers to point to the newly allocated memory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">p_pub</td><td>Pointer to the publication structure to be created. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nmax</td><td>Maximum number of elements for the model and publication.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MESHX_SUCCESS on successful allocation and initialization, MESHX_INVALID_ARG if any input pointer is NULL, MESHX_NO_MEM if memory allocation fails. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   33</span>{</div>
<div class="line"><span class="lineno">   34</span>    <span class="keywordflow">if</span>(!p_pub)</div>
<div class="line"><span class="lineno">   35</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e">MESHX_INVALID_ARG</a>;</div>
<div class="line"><span class="lineno">   36</span> </div>
<div class="line"><span class="lineno">   37</span>    *p_pub   = (<a class="code hl_define" href="../../d3/d2b/meshx__platform__ble__mesh_8h.html#ae8272f86afe3a74d8de48473ecefaf5e">MESHX_MODEL_PUB</a> *) <a class="code hl_define" href="../../da/d68/meshx__err_8h.html#a1d35fd42fb3bbaaa86816df7b0263b50">MESHX_CALOC</a>(nmax, <span class="keyword">sizeof</span>(<a class="code hl_define" href="../../d3/d2b/meshx__platform__ble__mesh_8h.html#ae8272f86afe3a74d8de48473ecefaf5e">MESHX_MODEL_PUB</a>));</div>
<div class="line"><span class="lineno">   38</span>    <span class="keywordflow">if</span>(!*p_pub)</div>
<div class="line"><span class="lineno">   39</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6ad805de8202860d5657dc396e4b00aefe">MESHX_NO_MEM</a>;</div>
<div class="line"><span class="lineno">   40</span> </div>
<div class="line"><span class="lineno">   41</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">   42</span>}</div>
<div class="ttc" id="ameshx__platform__ble__mesh_8h_html_ae8272f86afe3a74d8de48473ecefaf5e"><div class="ttname"><a href="../../d3/d2b/meshx__platform__ble__mesh_8h.html#ae8272f86afe3a74d8de48473ecefaf5e">MESHX_MODEL_PUB</a></div><div class="ttdeci">#define MESHX_MODEL_PUB</div><div class="ttdef"><b>Definition</b> meshx_platform_ble_mesh.h:36</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af87fda327ffe07a7c29d0f01b3d84a57" name="af87fda327ffe07a7c29d0f01b3d84a57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af87fda327ffe07a7c29d0f01b3d84a57">&#9670;&#160;</a></span>meshx_plat_del_model_pub()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_plat_del_model_pub </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a3bae9ce6d9b944b93bb8a0b64e758d19">meshx_ptr_t</a> *</td>          <td class="paramname"><span class="paramname"><em>p_pub</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes the model and publication objects. </p>
<p>This function frees the memory allocated for the model and publication objects pointed to by the provided pointers and sets them to NULL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">p_pub</td><td>Pointer to the publication object to be deleted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MESHX_SUCCESS on successful deletion, MESHX_INVALID_ARG if either pointer is NULL. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   45</span>{</div>
<div class="line"><span class="lineno">   46</span>    <span class="keywordflow">if</span> (!p_pub)</div>
<div class="line"><span class="lineno">   47</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e">MESHX_INVALID_ARG</a>;</div>
<div class="line"><span class="lineno">   48</span> </div>
<div class="line"><span class="lineno">   49</span>    <span class="keywordflow">if</span> (*p_pub) {</div>
<div class="line"><span class="lineno">   50</span>        <a class="code hl_define" href="../../da/d68/meshx__err_8h.html#af8f58f6602b246397c882d9cddd9a334">MESHX_FREE</a>(*p_pub);</div>
<div class="line"><span class="lineno">   51</span>        *p_pub = NULL;</div>
<div class="line"><span class="lineno">   52</span>    }</div>
<div class="line"><span class="lineno">   53</span> </div>
<div class="line"><span class="lineno">   54</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">   55</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a63a879267392250798cb2ee7caabf1a9" name="a63a879267392250798cb2ee7caabf1a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63a879267392250798cb2ee7caabf1a9">&#9670;&#160;</a></span>meshx_platform_bt_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6">meshx_err_t</a> meshx_platform_bt_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a53a91bb52f6febc096210c466b18c94a">meshx_uuid_addr_t</a></td>          <td class="paramname"><span class="paramname"><em>uuid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the Bluetooth subsystem of the MeshX platform. </p>
<p>This function sets up the Bluetooth-related components necessary for MeshX operation, such as BLE Mesh provisioning and communication.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid</td><td>Pointer to the UUID address to be used for the Bluetooth initialization.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6" title="MeshX Error Codes.">meshx_err_t</a> Returns MESHX_OK on success, or an appropriate error code. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  185</span>{</div>
<div class="line"><span class="lineno">  186</span>    esp_err_t err = ESP_OK;</div>
<div class="line"><span class="lineno">  187</span>    <span class="comment">/* Initialize Bluetooth */</span></div>
<div class="line"><span class="lineno">  188</span>    err = <a class="code hl_function" href="../../d9/db9/ble__mesh__plat__init_8h.html#a2bae8dcbee489037789f228234a3072d">bluetooth_init</a>();</div>
<div class="line"><span class="lineno">  189</span>    <span class="keywordflow">if</span>(err)</div>
<div class="line"><span class="lineno">  190</span>    {</div>
<div class="line"><span class="lineno">  191</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a6c085ef760a07c6f5b9422e1590fde8d">MESHX_ERR_PLAT</a>;</div>
<div class="line"><span class="lineno">  192</span>    }</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>    <span class="keywordflow">if</span>(uuid == NULL)</div>
<div class="line"><span class="lineno">  195</span>    {</div>
<div class="line"><span class="lineno">  196</span>        <a class="code hl_define" href="../../d7/dcb/meshx__log_8h.html#a56673888067cbe14c7a33b0856f46eb8">MESHX_LOGE</a>(<a class="code hl_enumvalue" href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedca294f5c4e583ed87401713ad84945e322">MODULE_ID_COMMON</a>, <span class="stringliteral">&quot;Invalid configuration for Bluetooth initialization&quot;</span>);</div>
<div class="line"><span class="lineno">  197</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0fbbd53c07d6e68fb5bca0ac8a532c7e">MESHX_INVALID_ARG</a>;</div>
<div class="line"><span class="lineno">  198</span>    }</div>
<div class="line"><span class="lineno">  199</span>    <span class="comment">/* Set the device UUID */</span></div>
<div class="line"><span class="lineno">  200</span>    <span class="keywordflow">if</span>(memcmp(uuid, <a class="code hl_define" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a68d787e416fd8e536da0e7382d130587">MESHX_UUID_EMPTY</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a53a91bb52f6febc096210c466b18c94a">meshx_uuid_addr_t</a>)) == 0)</div>
<div class="line"><span class="lineno">  201</span>    {</div>
<div class="line"><span class="lineno">  202</span>        <span class="keyword">const</span> uint8_t *mac_addr = esp_bt_dev_get_address();</div>
<div class="line"><span class="lineno">  203</span>        <span class="keywordflow">if</span> (mac_addr == NULL) {</div>
<div class="line"><span class="lineno">  204</span>            <a class="code hl_define" href="../../d7/dcb/meshx__log_8h.html#a56673888067cbe14c7a33b0856f46eb8">MESHX_LOGE</a>(<a class="code hl_enumvalue" href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedca294f5c4e583ed87401713ad84945e322">MODULE_ID_COMMON</a>, <span class="stringliteral">&quot;Failed to get device address&quot;</span>);</div>
<div class="line"><span class="lineno">  205</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a6c085ef760a07c6f5b9422e1590fde8d">MESHX_ERR_PLAT</a>;</div>
<div class="line"><span class="lineno">  206</span>        }</div>
<div class="line"><span class="lineno">  207</span>        memcpy(uuid + 2, mac_addr, <a class="code hl_define" href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#ae434df02bc3aa3e87738a597640ebdea">MESHX_BD_ADDR_LEN</a>);</div>
<div class="line"><span class="lineno">  208</span>    }</div>
<div class="line"><span class="lineno">  209</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../da/d68/meshx__err_8h.html#a6f984f69fa8d0240992b3a1e78bd42f6a0bcfcbc6db2a31dd3b3c3a91d999841b">MESHX_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  210</span>}</div>
<div class="ttc" id="able__mesh__plat__init_8h_html_a2bae8dcbee489037789f228234a3072d"><div class="ttname"><a href="../../d9/db9/ble__mesh__plat__init_8h.html#a2bae8dcbee489037789f228234a3072d">bluetooth_init</a></div><div class="ttdeci">esp_err_t bluetooth_init(void)</div><div class="ttdoc">Initialize the Bluetooth stack for BLE Mesh.</div></div>
<div class="ttc" id="ameshx__ble__mesh__cmn__def_8h_html_a53a91bb52f6febc096210c466b18c94a"><div class="ttname"><a href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a53a91bb52f6febc096210c466b18c94a">meshx_uuid_addr_t</a></div><div class="ttdeci">uint8_t meshx_uuid_addr_t[16]</div><div class="ttdef"><b>Definition</b> meshx_ble_mesh_cmn_def.h:644</div></div>
<div class="ttc" id="ameshx__ble__mesh__cmn__def_8h_html_a68d787e416fd8e536da0e7382d130587"><div class="ttname"><a href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#a68d787e416fd8e536da0e7382d130587">MESHX_UUID_EMPTY</a></div><div class="ttdeci">#define MESHX_UUID_EMPTY</div><div class="ttdef"><b>Definition</b> meshx_ble_mesh_cmn_def.h:646</div></div>
<div class="ttc" id="ameshx__ble__mesh__cmn__def_8h_html_ae434df02bc3aa3e87738a597640ebdea"><div class="ttname"><a href="../../d4/de0/meshx__ble__mesh__cmn__def_8h.html#ae434df02bc3aa3e87738a597640ebdea">MESHX_BD_ADDR_LEN</a></div><div class="ttdeci">#define MESHX_BD_ADDR_LEN</div><div class="ttdef"><b>Definition</b> meshx_ble_mesh_cmn_def.h:636</div></div>
<div class="ttc" id="amodule__id_8h_html_ac6141ce7b2d1d07b28553017c6a3aedca294f5c4e583ed87401713ad84945e322"><div class="ttname"><a href="../../d3/da1/module__id_8h.html#ac6141ce7b2d1d07b28553017c6a3aedca294f5c4e583ed87401713ad84945e322">MODULE_ID_COMMON</a></div><div class="ttdeci">@ MODULE_ID_COMMON</div><div class="ttdef"><b>Definition</b> module_id.h:32</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 28 2025 19:17:05 for MeshX by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
